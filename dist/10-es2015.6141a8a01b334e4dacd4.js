(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{esi0:function(r,t,i){"use strict";i.d(t,"a",(function(){return d}));var e=i("MAky"),a=i("lJxs"),o=i("JIr8"),s=i("LRne"),n=i("fXoL"),c=i("tk/3"),u=i("aceb"),b=i("tyNb");let d=(()=>{class r{constructor(r,t,i){this.http=r,this.toastrService=t,this.router=i,this.url=e.b+"/equipe"}lista(){return this.http.get(this.url+"/lista")}criar(r){return this.http.post(this.url+"/criar",r).pipe(Object(a.a)(r=>{this.toastrService.success("Agora voc\xea pode definir membros e criar fun\xe7\xf5es","Equipe criada com sucesso"),this.router.navigate(["/pages/admin/equipe/editar/"+r._id])}),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(s.a)(!1))))}adicionarMembro(r,t){return this.http.post(this.url+"/adicionarMembro",{id:r,usuarioId:t})}buscarPorId(r){return this.http.post(this.url+"/buscarPorId",{id:r})}buscarMinhaEquipe(){return this.http.get(this.url+"/buscarMinhaEquipe")}select(){return this.http.get(this.url+"/select")}usuariosSemEquipeSelect(r){return this.http.post(this.url+"/usuariosSemEquipeSelect",{q:r})}criarCargo(r){return this.http.post(this.url+"/criarCargo",r).pipe(Object(a.a)(r=>(this.toastrService.success("","Cargo criado com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(s.a)({nome:""}))))}editarCargo(r){return this.http.post(this.url+"/editarCargo",r).pipe(Object(a.a)(r=>(this.toastrService.success("","Cargo editado com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(s.a)({nome:""}))))}removerMembro(r,t){return this.http.post(this.url+"/removerMembro",{id:r,usuarioId:t}).pipe(Object(a.a)(r=>(this.toastrService.success("","Membro removido com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(s.a)({nome:""}))))}removerCargo(r,t){return this.http.post(this.url+"/removerCargo",{id:r,cargoId:t}).pipe(Object(a.a)(r=>(this.toastrService.success("","Cargo removido com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(s.a)(!1))))}adicionarCargoUsuario(r,t,i){return this.http.post(this.url+"/adicionarCargoUsuario",{id:r,usuarioId:t,cargoId:i}).pipe(Object(a.a)(r=>(this.toastrService.success("","Membro removido com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(s.a)(!1))))}}return r.\u0275fac=function(t){return new(t||r)(n.cc(c.b),n.cc(u.Ab),n.cc(b.c))},r.\u0275prov=n.Ob({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},hsNc:function(r,t,i){"use strict";i.r(t),i.d(t,"UsuarioEditarModule",(function(){return Y}));var e=i("ofXK"),a=i("tyNb"),o=i("v8Ly"),s=i("3Pt+"),n=i("vI6V"),c=i("esi0"),u=i("sdC+"),b=i("3+or"),d=i("fXoL"),l=i("aceb"),p=i("TT0I");function h(r,t){1&r&&(d.Yb(0,"p",21),d.Jc(1," Campo obrigat\xf3rio! "),d.Xb())}function m(r,t){1&r&&(d.Yb(0,"p",21),d.Jc(1," Campo obrigat\xf3rio! "),d.Xb())}function f(r,t){1&r&&(d.Yb(0,"p",21),d.Jc(1," Favor digitar uma data v\xe1lida! "),d.Xb())}function v(r,t){if(1&r&&(d.Yb(0,"nb-option",22),d.Jc(1),d.Xb()),2&r){const r=t.$implicit;d.rc("value",r.k),d.Fb(1),d.Kc(r.v)}}function g(r,t){if(1&r&&(d.Yb(0,"nb-option",22),d.Jc(1),d.Xb()),2&r){const r=t.$implicit;d.rc("value",r._id),d.Fb(1),d.Kc(r.nome)}}function O(r,t){if(1&r&&(d.Yb(0,"nb-option",22),d.Jc(1),d.Xb()),2&r){const r=t.$implicit;d.rc("value",r.k),d.Fb(1),d.Kc(r.v)}}function C(r,t){if(1&r&&(d.Yb(0,"div"),d.Yb(1,"div",23),d.Yb(2,"div",5),d.Yb(3,"label",24),d.Jc(4,"Equipe "),d.Xb(),d.Yb(5,"nb-select",25),d.Hc(6,g,2,2,"nb-option",18),d.Xb(),d.Xb(),d.Yb(7,"div",5),d.Yb(8,"nb-toggle",26),d.Jc(9,"Coordena Equipe?"),d.Xb(),d.Xb(),d.Xb(),d.Yb(10,"div",23),d.Yb(11,"div",5),d.Yb(12,"label",27),d.Jc(13,"Comunidade "),d.Xb(),d.Yb(14,"nb-select",28),d.Hc(15,O,2,2,"nb-option",18),d.Xb(),d.Xb(),d.Yb(16,"div",29),d.Yb(17,"label",13),d.Jc(18," Par\xf3quia "),d.Xb(),d.Tb(19,"input",30),d.Xb(),d.Yb(20,"div",29),d.Yb(21,"label",13),d.Jc(22," Passagem "),d.Xb(),d.Tb(23,"input",31),d.Xb(),d.Xb(),d.Xb()),2&r){const r=d.kc();d.Fb(6),d.rc("ngForOf",r.equipes),d.Fb(9),d.rc("ngForOf",r.comunidades)}}const S=[{path:":id",component:(()=>{class r extends b.a{constructor(r,t,i,e,a){super(),this.route=r,this.router=t,this.fb=i,this.usuarioService=e,this.equipeSerivice=a,this.dados=this.fb.group({ativo:null,comunidade:null,email:null,equipe:null,hierarquia:null,name:[null,s.x.required],bd:[null,this.validarDataAniversario],coordenaEquipe:null,paroquia:null,passagem:null}),this.comunidades=Object.keys(n.a).map(r=>({k:r,v:n.a[r]})),this.hierarquia=Object.keys(n.b).map(r=>({k:r,v:n.b[r]})),this.loading=!1,this.loading=!0,this.route.params.subscribe(r=>{this.id=r.id,"novo"!==this.id&&this.usuarioService.buscarPorId(this.id).subscribe(r=>{this.equipeSerivice.select().subscribe(t=>{this.equipes=t,this.dados.patchValue(Object.assign(Object.assign({},r),{bd:r.bd&&new Date(r.bd)}))},r=>r,()=>this.loading=!1)})})}ngOnInit(){this.dados.controls.email.disable()}validarDataAniversario(r){return r.value&&Object(u.a)(new Date,10)<=new Date(r.value)?{dataInvalida:!0}:null}salvar(){this.dados.valid&&this.usuarioService.atualizarUsuario(Object.assign({_id:this.id},this.dados.value)).subscribe(r=>{r&&this.router.navigate(["/pages/admin/usuarios"])})}verificaValidacaoCampo(r,t){return this.dados.controls[r].dirty&&(t?this.dados.controls[r].errors&&this.dados.controls[r].errors[t]:this.dados.controls[r].invalid)}}return r.\u0275fac=function(t){return new(t||r)(d.Sb(a.a),d.Sb(a.c),d.Sb(s.c),d.Sb(o.a),d.Sb(c.a))},r.\u0275cmp=d.Mb({type:r,selectors:[["ngx-usuario-editar"]],features:[d.Cb],decls:38,vars:11,consts:[[3,"formGroup"],["nbSpinnerStatus","primary",3,"nbSpinner"],["nbButton","","size","small","ghost","","routerLink","/pages/admin/usuarios"],["icon","arrow-left"],[1,"row","form-group"],[1,"form-group","col-md-4"],["for","Nome","required","",1,"label"],["type","text","nbInput","","placeholder","Nome","fullWidth","","id","nome","formControlName","name",3,"status"],["class","caption status-danger",4,"ngIf"],["for","Email","required","",1,"label"],["type","email","nbInput","","placeholder","Email","fullWidth","","id","Email","formControlName","email",3,"status"],["labelPosition","start","formControlName","ativo","id","ativo"],[1,"row"],[1,"label"],["fullWidth","","nbInput","","formControlName","bd",3,"status","nbDatepicker"],["dp",""],["for","hierarquia","required","",1,"label"],["placeholder","Posi\xe7\xe3o","fullWidth","","formControlName","hierarquia"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["nbButton","",3,"click"],[1,"caption","status-danger"],[3,"value"],[1,"form-group","row"],["for","equipe","required","",1,"label"],["placeholder","Equipe","fullWidth","","formControlName","equipe"],["labelPosition","start","formControlName","coordenaEquipe"],["for","comunidade","required","",1,"label"],["placeholder","Comunidade","fullWidth","","formControlName","comunidade"],[1,"col-md-4","form-group"],["nbInput","","placeholder","Par\xf3quia","formControlName","paroquia","fullWidth",""],["shape","round","type","tel","nbInput","","currencyMask","","formControlName","passagem","maxlength","15","fullWidth",""]],template:function(r,t){if(1&r&&(d.Yb(0,"form",0),d.Yb(1,"nb-card",1),d.Yb(2,"nb-card-header"),d.Yb(3,"button",2),d.Tb(4,"nb-icon",3),d.Xb(),d.Jc(5," Editar usu\xe1rio "),d.Xb(),d.Yb(6,"nb-card-body"),d.Yb(7,"div",4),d.Yb(8,"div",5),d.Yb(9,"label",6),d.Jc(10,"Nome "),d.Xb(),d.Tb(11,"input",7),d.Hc(12,h,2,0,"p",8),d.Xb(),d.Yb(13,"div",5),d.Yb(14,"label",9),d.Jc(15,"Email "),d.Xb(),d.Tb(16,"input",10),d.Hc(17,m,2,0,"p",8),d.Xb(),d.Yb(18,"div",5),d.Yb(19,"nb-toggle",11),d.Jc(20,"Ativo"),d.Xb(),d.Xb(),d.Xb(),d.Yb(21,"div",12),d.Yb(22,"div",5),d.Yb(23,"label",13),d.Jc(24,"Anivers\xe1rio:"),d.Xb(),d.Tb(25,"input",14),d.Tb(26,"nb-datepicker",null,15),d.Hc(28,f,2,0,"p",8),d.Xb(),d.Yb(29,"div",5),d.Yb(30,"label",16),d.Jc(31,"Posi\xe7\xe3o "),d.Xb(),d.Yb(32,"nb-select",17),d.Hc(33,v,2,2,"nb-option",18),d.Xb(),d.Xb(),d.Xb(),d.Hc(34,C,24,2,"div",19),d.Xb(),d.Yb(35,"nb-card-footer"),d.Yb(36,"button",20),d.gc("click",(function(){return t.salvar()})),d.Jc(37,"Salvar"),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&r){const r=d.yc(27);d.rc("formGroup",t.dados),d.Fb(1),d.rc("nbSpinner",t.loading),d.Fb(10),d.rc("status",t.verificaValidacaoCampo("name")?"danger":"basic"),d.Fb(1),d.rc("ngIf",t.verificaValidacaoCampo("name","required")),d.Fb(4),d.rc("status",t.verificaValidacaoCampo("email")?"danger":"basic"),d.Fb(1),d.rc("ngIf",t.verificaValidacaoCampo("email","required")),d.Fb(8),d.rc("status",t.verificaValidacaoCampo("bd")?"danger":"basic")("nbDatepicker",r),d.Fb(3),d.rc("ngIf",t.verificaValidacaoCampo("bd","dataInvalida")),d.Fb(5),d.rc("ngForOf",t.hierarquia),d.Fb(1),d.rc("ngIf","SEMINARISTA"===t.dados.value.hierarquia)}},directives:[s.z,s.o,s.g,l.x,l.ub,l.A,l.t,a.d,l.P,l.w,l.S,s.b,s.n,s.f,e.n,l.Bb,l.J,l.I,l.mb,e.m,l.y,l.jb,p.a,s.i],styles:[""]}),r})()}];let I=(()=>{class r{}return r.\u0275mod=d.Qb({type:r}),r.\u0275inj=d.Pb({factory:function(t){return new(t||r)},imports:[[a.g.forChild(S)],a.g]}),r})();var X=i("oG2T"),E=i("O+SD");let Y=(()=>{class r{}return r.\u0275mod=d.Qb({type:r}),r.\u0275inj=d.Pb({factory:function(t){return new(t||r)},imports:[[e.c,s.u,s.h,l.B,l.R,l.T,l.nb,l.Cb,l.u,l.K,X.a,p.b.forRoot(E.customCurrencyMaskConfig),I,l.vb]]}),r})()},"sdC+":function(r,t,i){"use strict";i.d(t,"a",(function(){return n}));var e=i("/h9T"),a=i("dLU1"),o=i("jIYg");function s(r,t){Object(o.a)(2,arguments);var i=Object(e.a)(t);return Object(a.a)(r,12*i)}function n(r,t){Object(o.a)(2,arguments);var i=Object(e.a)(t);return s(r,-i)}},vI6V:function(r,t,i){"use strict";i.d(t,"d",(function(){return e})),i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return s}));var e=function(r){return r.ABERTO="Aberto",r.PRODUZINDO="Produzindo",r.ENTREGUE="Entregue",r.PAGO="Pago",r.CANCELADO="Cancelado",r.SLC_CANCELAMENTO="Slc. Canc.",r}({}),a=function(r){return r.PROPEDEUTICO="Proped\xeautico",r.FILOSOFIA="Filosofia",r.TEOLOGIA="Teologia",r.TIROCINIO="Tiroc\xednio",r}({}),o=function(r){return r.SEMINARISTA="Seminarista",r.FORMADOR="Formador",r.REITOR="Reitor",r.CONSELHO_GESTOR="Conselho Gestor",r.OUTROS="Outros",r}({}),s=function(r){return r.EM_ANALISE="Em an\xe1lise",r.CORRECAO="Solicitado corre\xe7\xe3o",r.APROVADO="Aprovado",r.DEPOSITADO="Depositado",r}({})}}]);