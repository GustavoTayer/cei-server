(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"3prv":function(i,a,n){"use strict";n.r(a),n.d(a,"PartilhaPassagemModule",(function(){return S}));var t=n("ofXK"),s=n("tyNb"),r=n("3+or"),e=n("3Pt+"),o=n("v8Ly"),c=n("vI6V"),b=n("fXoL"),u=n("aceb"),l=n("TT0I");function d(i,a){1&i&&(b.Yb(0,"div",11),b.Jc(1," N\xe3o foi encontrado nenhum seminarista "),b.Xb())}function m(i,a){if(1&i){const i=b.Zb();b.Yb(0,"nb-list-item"),b.Yb(1,"div",13),b.Tb(2,"nb-user",14),b.Xb(),b.Yb(3,"div",13),b.Jc(4," Passagem: "),b.Yb(5,"b"),b.Jc(6),b.lc(7,"currency"),b.Xb(),b.Xb(),b.Yb(8,"div",15),b.Jc(9," Par\xf3quia: "),b.Yb(10,"b"),b.Jc(11),b.Xb(),b.Xb(),b.Yb(12,"div",16),b.Yb(13,"button",17),b.gc("click",(function(){b.Bc(i);const n=a.$implicit;return b.kc(2).editarSem(n)})),b.Tb(14,"nb-icon",18),b.Xb(),b.Xb(),b.Xb()}if(2&i){const i=a.$implicit,n=b.kc(2);b.Fb(2),b.rc("name",i.name)("title",n.comunidade(i.comunidade)),b.Fb(4),b.Kc(b.oc(7,4,i.passagem,"BRL",!0)),b.Fb(5),b.Kc(i.paroquia||"-")}}function p(i,a){if(1&i&&(b.Yb(0,"nb-list"),b.Hc(1,m,15,8,"nb-list-item",12),b.Xb()),2&i){const i=b.kc();b.Fb(1),b.rc("ngForOf",i.seminaristas)}}const h=[{path:"",component:(()=>{class i extends r.a{constructor(i,a){super(),this.usuarioService=i,this.toastrService=a,this.seminarista=new e.d(""),this.editar=!1,this.seminaristaSelecionado={},this.passagem=new e.d(0),this.paroquia=new e.d("",e.x.required),this.loading=!1,this.loadingSalvar=!1}ngOnInit(){this.loading=!0,this.subs.sink=this.usuarioService.semPassListagem().subscribe(i=>{this.seminaristas=i},i=>i,()=>this.loading=!1),this.subs.sink=this.seminarista.valueChanges.subscribe(i=>{this.subs.sink=this.usuarioService.semPassListagem(i).subscribe(i=>this.seminaristas=i,i=>i,()=>this.loading=!1)})}editarSem(i){this.seminaristaSelecionado=i,this.editar=!0,this.passagem.patchValue(i.passagem),this.paroquia.patchValue(i.paroquia)}comunidade(i){return c.a[i]}salvar(){this.passagem.valid&&this.paroquia.valid&&(this.loadingSalvar=!0,this.subs.sink=this.usuarioService.semPassAlterar(this.seminaristaSelecionado._id,this.passagem.value,this.paroquia.value).subscribe(i=>{this.toastrService.success("Valores de par\xf3quia e passagem foram atualizados","Usu\xe1rio atualizado"),this.subs.sink=this.usuarioService.semPassListagem().subscribe(i=>{this.seminaristas=i,this.editar=!1,this.paroquia.patchValue(""),this.passagem.patchValue(0)})}))}}return i.\u0275fac=function(a){return new(a||i)(b.Sb(o.a),b.Sb(u.Ab))},i.\u0275cmp=b.Mb({type:i,selectors:[["ngx-partilha-passagem"]],features:[b.Cb],decls:26,vars:11,consts:[["nbSpinnerStatus","primary",1,"own-scroll",3,"showToggleButton","flipped","nbSpinner"],["nbInput","","placeholder","Seminarista",3,"formControl"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],["icon","arrow-left-outline",3,"click"],[1,"row","form-group"],[1,"col-md-4","form-group"],[1,"label"],["shape","round","type","tel","nbInput","","currencyMask","","maxlength","15",3,"formControl"],["nbInput","","placeholder","Par\xf3quia",3,"formControl"],["nbButton","","status","primary",3,"disabled","nbSpinner","click"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"name","title"],[1,"col-5"],[1,"col-md-1"],["nbButton","","ghost","","status","info",3,"click"],["icon","edit-outline"]],template:function(i,a){1&i&&(b.Yb(0,"nb-flip-card",0),b.Yb(1,"nb-card-front"),b.Yb(2,"nb-card"),b.Yb(3,"nb-card-header"),b.Tb(4,"input",1),b.Xb(),b.Yb(5,"nb-card-body"),b.Hc(6,d,2,0,"div",2),b.Hc(7,p,2,1,"nb-list",3),b.Xb(),b.Xb(),b.Xb(),b.Yb(8,"nb-card-back"),b.Yb(9,"nb-card"),b.Yb(10,"nb-card-header"),b.Yb(11,"nb-icon",4),b.gc("click",(function(){return a.editar=!1})),b.Xb(),b.Jc(12),b.Xb(),b.Yb(13,"nb-card-body"),b.Yb(14,"div",5),b.Yb(15,"div",6),b.Yb(16,"label",7),b.Jc(17," Passagem "),b.Xb(),b.Tb(18,"input",8),b.Xb(),b.Yb(19,"div",6),b.Yb(20,"label",7),b.Jc(21," Par\xf3quia "),b.Xb(),b.Tb(22,"input",9),b.Xb(),b.Xb(),b.Xb(),b.Yb(23,"nb-card-footer"),b.Yb(24,"button",10),b.gc("click",(function(){return a.salvar()})),b.Jc(25,"Salvar"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&i&&(b.rc("showToggleButton",!1)("flipped",a.editar)("nbSpinner",a.loading),b.Fb(4),b.rc("formControl",a.seminarista),b.Fb(2),b.rc("ngIf",!a.seminaristas.length),b.Fb(1),b.rc("ngIf",a.seminaristas.length),b.Fb(5),b.Kc(a.seminaristaSelecionado.name),b.Fb(6),b.rc("formControl",a.passagem),b.Fb(4),b.rc("formControl",a.paroquia),b.Fb(2),b.rc("disabled",a.loadingSalvar)("nbSpinner",a.loadingSalvar))},directives:[u.O,u.ub,u.z,u.x,u.A,u.S,e.b,e.n,e.e,u.w,t.n,u.v,u.P,l.a,e.i,u.y,u.t,u.bb,t.m,u.cb,u.Sb],pipes:[t.d],styles:[""]}),i})()}];let f=(()=>{class i{}return i.\u0275mod=b.Qb({type:i}),i.\u0275inj=b.Pb({factory:function(a){return new(a||i)},imports:[[s.g.forChild(h)],s.g]}),i})();var g=n("O+SD");let S=(()=>{class i{}return i.\u0275mod=b.Qb({type:i}),i.\u0275inj=b.Pb({factory:function(a){return new(a||i)},imports:[[t.c,f,u.B,u.db,e.u,e.h,u.T,u.Tb,u.u,u.R,l.b.forRoot(g.customCurrencyMaskConfig),u.vb]]}),i})()},vI6V:function(i,a,n){"use strict";n.d(a,"d",(function(){return t})),n.d(a,"a",(function(){return s})),n.d(a,"b",(function(){return r})),n.d(a,"c",(function(){return e}));var t=function(i){return i.ABERTO="Aberto",i.PRODUZINDO="Produzindo",i.ENTREGUE="Entregue",i.PAGO="Pago",i.CANCELADO="Cancelado",i.SLC_CANCELAMENTO="Slc. Canc.",i}({}),s=function(i){return i.PROPEDEUTICO="Proped\xeautico",i.FILOSOFIA="Filosofia",i.TEOLOGIA="Teologia",i.TIROCINIO="Tiroc\xednio",i}({}),r=function(i){return i.SEMINARISTA="Seminarista",i.FORMADOR="Formador",i.REITOR="Reitor",i.CONSELHO_GESTOR="Conselho Gestor",i.OUTROS="Outros",i}({}),e=function(i){return i.EM_ANALISE="Em an\xe1lise",i.CORRECAO="Solicitado corre\xe7\xe3o",i.APROVADO="Aprovado",i.DEPOSITADO="Depositado",i}({})}}]);