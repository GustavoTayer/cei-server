(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{UrDz:function(a,r,e){"use strict";e.r(r),e.d(r,"RegisterModule",(function(){return C}));var i=e("ofXK"),t=e("3Pt+"),o=e("qXBG"),n=e("fXoL"),s=e("tyNb"),c=e("aceb");function l(a,r){if(1&a&&(n.Yb(0,"li",20),n.Jc(1),n.Xb()),2&a){const a=r.$implicit;n.Fb(1),n.Kc(a)}}function b(a,r){if(1&a&&(n.Yb(0,"nb-alert",16),n.Yb(1,"p",17),n.Yb(2,"b"),n.Jc(3,"Oh snap!"),n.Xb(),n.Xb(),n.Yb(4,"ul",18),n.Hc(5,l,2,1,"li",19),n.Xb(),n.Xb()),2&a){const a=n.kc();n.Fb(5),n.rc("ngForOf",a.errors)}}function u(a,r){1&a&&(n.Yb(0,"p",22),n.Jc(1," Campo obrigat\xf3rio! "),n.Xb())}function d(a,r){if(1&a&&(n.Wb(0),n.Hc(1,u,2,0,"p",21),n.Vb()),2&a){const a=n.kc();n.Fb(1),n.rc("ngIf",a.verificaValidacaoCampo("name","required"))}}function f(a,r){1&a&&(n.Yb(0,"p",22),n.Jc(1," Senha \xe9 obrigat\xf3rio! "),n.Xb())}function m(a,r){1&a&&(n.Yb(0,"p",22),n.Jc(1," Senha precisar ter: uma letra mai\xfascula, uma letra min\xfascula, um n\xfamero, um caractere especial (@#$%) e tamanho entre 6-20. "),n.Xb())}function p(a,r){if(1&a&&(n.Wb(0),n.Hc(1,f,2,0,"p",21),n.Hc(2,m,2,0,"p",21),n.Vb()),2&a){const a=n.kc();n.Fb(1),n.rc("ngIf",a.verificaValidacaoCampo("password","required")),n.Fb(1),n.rc("ngIf",a.verificaValidacaoCampo("password","senhaFraca"))}}function g(a,r){1&a&&(n.Yb(0,"p",22),n.Jc(1," Confimar senha \xe9 obrigat\xf3rio! "),n.Xb())}function h(a,r){1&a&&(n.Yb(0,"p",22),n.Jc(1," As senhas n\xe3o est\xe3o combinando "),n.Xb())}function v(a,r){if(1&a&&(n.Wb(0),n.Hc(1,g,2,0,"p",21),n.Hc(2,h,2,0,"p",21),n.Vb()),2&a){const a=n.kc();n.Fb(1),n.rc("ngIf",a.verificaValidacaoCampo("confirm_password","required")),n.Fb(1),n.rc("ngIf",a.validateEqualPassword())}}const w=function(){return["/auth/login"]};let X=(()=>{class a{constructor(a,r,e,i){this.fb=a,this.authService=r,this.route=e,this.router=i,this.form=this.fb.group({name:[null,t.x.required],email:null,hierarquia:null,password:[null,[t.x.required,this.validatePassword]],confirm_password:[null,t.x.required],bd:null}),this.password="",this.route.params.subscribe(a=>{this.id=a.id,"novo"!==this.id&&this.authService.obterConvite(this.id).subscribe(a=>{this.form.patchValue(Object.assign({},a)),this.form.controls.email.disable()},a=>alert(a))})}ngOnInit(){this.form.controls.password.valueChanges.subscribe(a=>{this.password=a})}validateEqualPassword(){return this.form.value.password!==this.form.value.confirm_password}validatePassword(a){return a.value&&a.value.match(/((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})/)?null:{senhaFraca:{valid:!1}}}register(){this.authService.registerUser(Object.assign(Object.assign({},this.form.getRawValue()),{conviteId:this.id})).subscribe(a=>{localStorage.setItem("usuarioNome",a.name),localStorage.setItem("token",a.token),this.router.navigate(["pages/dashboard"])})}verificaValidacaoCampo(a,r){return this.form.controls[a].dirty&&(r?this.form.controls[a].errors&&this.form.controls[a].errors[r]:this.form.controls[a].invalid)}getConfigValue(){}}return a.\u0275fac=function(r){return new(r||a)(n.Sb(t.c),n.Sb(o.a),n.Sb(s.a),n.Sb(s.c))},a.\u0275cmp=n.Mb({type:a,selectors:[["ngx-register"]],decls:29,vars:11,consts:[["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["aria-labelledby","title",3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-name",1,"label"],["nbInput","","formControlName","name","id","input-name","name","fullName","placeholder","Nome","autofocus","","fullWidth","","fieldSize","large",3,"status"],[4,"ngIf"],["for","input-email",1,"label"],["nbInput","","formControlName","email","id","input-email","name","email","placeholder","Email","fullWidth","","fieldSize","large"],["for","input-password",1,"label"],["nbInput","","formControlName","password","type","password","id","input-password","name","password","placeholder","Senha","fullWidth","","fieldSize","large",3,"status"],["for","input-re-password",1,"label"],["nbInput","","formControlName","confirm_password","type","password","id","input-re-password","name","rePass","placeholder","Confirmar senha","fullWidth","","fieldSize","large",3,"status"],["nbButton","","fullWidth","","status","primary","size","large",3,"disabled"],["aria-label","Sign in",1,"another-action"],[1,"text-link",3,"routerLink"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(a,r){1&a&&(n.Yb(0,"h1",0),n.Jc(1,"Registro"),n.Xb(),n.Hc(2,b,6,1,"nb-alert",1),n.Yb(3,"form",2),n.gc("ngSubmit",(function(){return r.register()})),n.Yb(4,"div",3),n.Yb(5,"label",4),n.Jc(6,"Nome:"),n.Xb(),n.Tb(7,"input",5),n.Hc(8,d,2,1,"ng-container",6),n.Xb(),n.Yb(9,"div",3),n.Yb(10,"label",7),n.Jc(11,"Email:"),n.Xb(),n.Tb(12,"input",8),n.Xb(),n.Yb(13,"div",3),n.Yb(14,"label",9),n.Jc(15,"Senha:"),n.Xb(),n.Tb(16,"input",10),n.Hc(17,p,3,2,"ng-container",6),n.Xb(),n.Yb(18,"div",3),n.Yb(19,"label",11),n.Jc(20,"Confirmar senha:"),n.Xb(),n.Tb(21,"input",12),n.Hc(22,v,3,2,"ng-container",6),n.Xb(),n.Yb(23,"button",13),n.Jc(24," Criar conta "),n.Xb(),n.Xb(),n.Yb(25,"section",14),n.Jc(26," J\xe1 possui uma conta? "),n.Yb(27,"a",15),n.Jc(28,"entrar"),n.Xb(),n.Xb()),2&a&&(n.Fb(2),n.rc("ngIf",null==r.errors?null:r.errors.length),n.Fb(1),n.rc("formGroup",r.form),n.Fb(4),n.rc("status",r.verificaValidacaoCampo("name")?"danger":"basic"),n.Fb(1),n.rc("ngIf",r.verificaValidacaoCampo("name")),n.Fb(8),n.rc("status",r.verificaValidacaoCampo("password")?"danger":"basic"),n.Fb(1),n.rc("ngIf",r.verificaValidacaoCampo("password")),n.Fb(4),n.rc("status",r.verificaValidacaoCampo("confirm_password")||r.validateEqualPassword()?"danger":"basic"),n.Fb(1),n.rc("ngIf",r.verificaValidacaoCampo("confirm_password")||r.validateEqualPassword()),n.Fb(1),n.rc("disabled",!r.form.valid||r.validateEqualPassword()),n.Fb(4),n.rc("routerLink",n.tc(10,w)))},directives:[i.n,t.z,t.o,t.g,c.S,t.b,t.n,t.f,c.t,s.f,c.o,i.m],styles:[""]}),a})(),C=(()=>{class a{}return a.\u0275mod=n.Qb({type:a}),a.\u0275inj=n.Pb({factory:function(r){return new(r||a)},imports:[[i.c,c.R,c.T,t.u,c.p,c.u,t.h,c.E,s.g.forChild([{path:":id",component:X}])]]}),a})()}}]);