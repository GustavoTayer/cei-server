(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{dLU1:function(r,t,e){"use strict";e.d(t,"a",(function(){return s}));var i=e("/h9T"),a=e("/Tr7"),o=e("jIYg");function n(r){Object(o.a)(1,arguments);var t=Object(a.a)(r),e=t.getFullYear(),i=t.getMonth(),n=new Date(0);return n.setFullYear(e,i+1,0),n.setHours(0,0,0,0),n.getDate()}function s(r,t){Object(o.a)(2,arguments);var e=Object(a.a)(r),s=Object(i.a)(t),c=e.getMonth()+s,u=new Date(0);u.setFullYear(e.getFullYear(),c,1),u.setHours(0,0,0,0);var b=n(u);return e.setMonth(c,Math.min(b,e.getDate())),e}},esi0:function(r,t,e){"use strict";e.d(t,"a",(function(){return l}));var i=e("MAky"),a=e("lJxs"),o=e("JIr8"),n=e("LRne"),s=e("fXoL"),c=e("tk/3"),u=e("aceb"),b=e("tyNb");let l=(()=>{class r{constructor(r,t,e){this.http=r,this.toastrService=t,this.router=e,this.url=`${i.c}/equipe`}lista(){return this.http.get(`${this.url}/lista`)}criar(r){return this.http.post(`${this.url}/criar`,r).pipe(Object(a.a)(r=>{this.toastrService.success("Agora voc\xea pode definir membros e criar fun\xe7\xf5es","Equipe criada com sucesso"),this.router.navigate([`/pages/admin/equipe/editar/${r._id}`])}),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(n.a)(!1))))}adicionarMembro(r,t){return this.http.post(`${this.url}/adicionarMembro`,{id:r,usuarioId:t})}buscarPorId(r){return this.http.post(`${this.url}/buscarPorId`,{id:r})}buscarMinhaEquipe(){return this.http.get(`${this.url}/buscarMinhaEquipe`)}select(){return this.http.get(`${this.url}/select`)}usuariosSemEquipeSelect(r){return this.http.post(`${this.url}/usuariosSemEquipeSelect`,{q:r})}criarCargo(r){return this.http.post(`${this.url}/criarCargo`,r).pipe(Object(a.a)(r=>(this.toastrService.success("","Cargo criado com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(n.a)({nome:""}))))}removerMembro(r,t){return this.http.post(`${this.url}/removerMembro`,{id:r,usuarioId:t}).pipe(Object(a.a)(r=>(this.toastrService.success("","Membro removido com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(n.a)({nome:""}))))}removerCargo(r,t){return this.http.post(`${this.url}/removerCargo`,{id:r,cargoId:t}).pipe(Object(a.a)(r=>(this.toastrService.success("","Cargo removido com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(n.a)(!1))))}adicionarCargoUsuario(r,t,e){return this.http.post(`${this.url}/adicionarCargoUsuario`,{id:r,usuarioId:t,cargoId:e}).pipe(Object(a.a)(r=>(this.toastrService.success("","Membro removido com sucesso"),r)),Object(o.a)(r=>(this.toastrService.danger(r,"Erro!"),Object(n.a)(!1))))}}return r.\u0275fac=function(t){return new(t||r)(s.cc(c.b),s.cc(u.yb),s.cc(b.c))},r.\u0275prov=s.Ob({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},hsNc:function(r,t,e){"use strict";e.r(t),e.d(t,"UsuarioEditarModule",(function(){return S}));var i=e("ofXK"),a=e("tyNb"),o=e("v8Ly"),n=e("3Pt+"),s=e("vI6V"),c=e("esi0"),u=e("sdC+"),b=e("3+or"),l=e("fXoL"),d=e("aceb"),p=e("TT0I");function m(r,t){1&r&&(l.Yb(0,"p",20),l.Jc(1," Campo obrigat\xf3rio! "),l.Xb())}function h(r,t){1&r&&(l.Yb(0,"p",20),l.Jc(1," Campo obrigat\xf3rio! "),l.Xb())}function f(r,t){1&r&&(l.Yb(0,"p",20),l.Jc(1," Favor digitar uma data v\xe1lida! "),l.Xb())}function v(r,t){if(1&r&&(l.Yb(0,"nb-option",21),l.Jc(1),l.Xb()),2&r){const r=t.$implicit;l.rc("value",r.k),l.Fb(1),l.Kc(r.v)}}function g(r,t){if(1&r&&(l.Yb(0,"nb-option",21),l.Jc(1),l.Xb()),2&r){const r=t.$implicit;l.rc("value",r._id),l.Fb(1),l.Kc(r.nome)}}function O(r,t){if(1&r&&(l.Yb(0,"nb-option",21),l.Jc(1),l.Xb()),2&r){const r=t.$implicit;l.rc("value",r.k),l.Fb(1),l.Kc(r.v)}}function C(r,t){if(1&r&&(l.Yb(0,"div"),l.Yb(1,"div",22),l.Yb(2,"div",4),l.Yb(3,"label",23),l.Jc(4,"Equipe "),l.Xb(),l.Yb(5,"nb-select",24),l.Hc(6,g,2,2,"nb-option",17),l.Xb(),l.Xb(),l.Yb(7,"div",4),l.Yb(8,"nb-toggle",25),l.Jc(9,"Coordena Equipe?"),l.Xb(),l.Xb(),l.Xb(),l.Yb(10,"div",22),l.Yb(11,"div",4),l.Yb(12,"label",26),l.Jc(13,"Comunidade "),l.Xb(),l.Yb(14,"nb-select",27),l.Hc(15,O,2,2,"nb-option",17),l.Xb(),l.Xb(),l.Yb(16,"div",28),l.Yb(17,"label",12),l.Jc(18," Par\xf3quia "),l.Xb(),l.Tb(19,"input",29),l.Xb(),l.Yb(20,"div",28),l.Yb(21,"label",12),l.Jc(22," Passagem "),l.Xb(),l.Tb(23,"input",30),l.Xb(),l.Xb(),l.Xb()),2&r){const r=l.kc();l.Fb(6),l.rc("ngForOf",r.equipes),l.Fb(9),l.rc("ngForOf",r.comunidades)}}const Y=[{path:":id",component:(()=>{class r extends b.a{constructor(r,t,e,i,a){super(),this.route=r,this.router=t,this.fb=e,this.usuarioService=i,this.equipeSerivice=a,this.dados=this.fb.group({ativo:null,comunidade:null,email:null,equipe:null,hierarquia:null,name:[null,n.x.required],bd:[null,this.validarDataAniversario],coordenaEquipe:null,paroquia:null,passagem:null}),this.comunidades=Object.keys(s.a).map(r=>({k:r,v:s.a[r]})),this.hierarquia=Object.keys(s.b).map(r=>({k:r,v:s.b[r]})),this.route.params.subscribe(r=>{this.id=r.id,"novo"!==this.id&&this.usuarioService.buscarPorId(this.id).subscribe(r=>{this.equipeSerivice.select().subscribe(t=>{this.equipes=t,this.dados.patchValue(Object.assign(Object.assign({},r),{bd:r.bd&&new Date(r.bd)}))})})})}ngOnInit(){this.dados.controls.email.disable()}validarDataAniversario(r){return r.value&&Object(u.a)(new Date,10)<=new Date(r.value)?{dataInvalida:!0}:null}salvar(){this.dados.valid&&this.usuarioService.atualizarUsuario(Object.assign({_id:this.id},this.dados.value)).subscribe(r=>{r&&this.router.navigate(["/pages/admin/usuarios"])})}verificaValidacaoCampo(r,t){return this.dados.controls[r].dirty&&(t?this.dados.controls[r].errors&&this.dados.controls[r].errors[t]:this.dados.controls[r].invalid)}}return r.\u0275fac=function(t){return new(t||r)(l.Sb(a.a),l.Sb(a.c),l.Sb(n.c),l.Sb(o.a),l.Sb(c.a))},r.\u0275cmp=l.Mb({type:r,selectors:[["ngx-usuario-editar"]],features:[l.Cb],decls:38,vars:10,consts:[[3,"formGroup"],["nbButton","","size","small","ghost","","routerLink","/pages/admin/usuarios"],["icon","arrow-left"],[1,"row","form-group"],[1,"form-group","col-md-4"],["for","Nome","required","",1,"label"],["type","text","nbInput","","placeholder","Nome","fullWidth","","id","nome","formControlName","name",3,"status"],["class","caption status-danger",4,"ngIf"],["for","Email","required","",1,"label"],["type","email","nbInput","","placeholder","Email","fullWidth","","id","Email","formControlName","email",3,"status"],["labelPosition","start","formControlName","ativo","id","ativo"],[1,"row"],[1,"label"],["fullWidth","","nbInput","","formControlName","bd",3,"status","nbDatepicker"],["dp",""],["for","hierarquia","required","",1,"label"],["placeholder","Posi\xe7\xe3o","fullWidth","","formControlName","hierarquia"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["nbButton","",3,"click"],[1,"caption","status-danger"],[3,"value"],[1,"form-group","row"],["for","equipe","required","",1,"label"],["placeholder","Equipe","fullWidth","","formControlName","equipe"],["labelPosition","start","formControlName","coordenaEquipe"],["for","comunidade","required","",1,"label"],["placeholder","Comunidade","fullWidth","","formControlName","comunidade"],[1,"col-md-4","form-group"],["nbInput","","placeholder","Par\xf3quia","formControlName","paroquia","fullWidth",""],["shape","round","type","tel","nbInput","","currencyMask","","formControlName","passagem","maxlength","15","fullWidth",""]],template:function(r,t){if(1&r&&(l.Yb(0,"form",0),l.Yb(1,"nb-card"),l.Yb(2,"nb-card-header"),l.Yb(3,"button",1),l.Tb(4,"nb-icon",2),l.Xb(),l.Jc(5," Editar usu\xe1rio "),l.Xb(),l.Yb(6,"nb-card-body"),l.Yb(7,"div",3),l.Yb(8,"div",4),l.Yb(9,"label",5),l.Jc(10,"Nome "),l.Xb(),l.Tb(11,"input",6),l.Hc(12,m,2,0,"p",7),l.Xb(),l.Yb(13,"div",4),l.Yb(14,"label",8),l.Jc(15,"Email "),l.Xb(),l.Tb(16,"input",9),l.Hc(17,h,2,0,"p",7),l.Xb(),l.Yb(18,"div",4),l.Yb(19,"nb-toggle",10),l.Jc(20,"Ativo"),l.Xb(),l.Xb(),l.Xb(),l.Yb(21,"div",11),l.Yb(22,"div",4),l.Yb(23,"label",12),l.Jc(24,"Anivers\xe1rio:"),l.Xb(),l.Tb(25,"input",13),l.Tb(26,"nb-datepicker",null,14),l.Hc(28,f,2,0,"p",7),l.Xb(),l.Yb(29,"div",4),l.Yb(30,"label",15),l.Jc(31,"Posi\xe7\xe3o "),l.Xb(),l.Yb(32,"nb-select",16),l.Hc(33,v,2,2,"nb-option",17),l.Xb(),l.Xb(),l.Xb(),l.Hc(34,C,24,2,"div",18),l.Xb(),l.Yb(35,"nb-card-footer"),l.Yb(36,"button",19),l.gc("click",(function(){return t.salvar()})),l.Jc(37,"Salvar"),l.Xb(),l.Xb(),l.Xb(),l.Xb()),2&r){const r=l.yc(27);l.rc("formGroup",t.dados),l.Fb(11),l.rc("status",t.verificaValidacaoCampo("name")?"danger":"basic"),l.Fb(1),l.rc("ngIf",t.verificaValidacaoCampo("name","required")),l.Fb(4),l.rc("status",t.verificaValidacaoCampo("email")?"danger":"basic"),l.Fb(1),l.rc("ngIf",t.verificaValidacaoCampo("email","required")),l.Fb(8),l.rc("status",t.verificaValidacaoCampo("bd")?"danger":"basic")("nbDatepicker",r),l.Fb(3),l.rc("ngIf",t.verificaValidacaoCampo("bd","dataInvalida")),l.Fb(5),l.rc("ngForOf",t.hierarquia),l.Fb(1),l.rc("ngIf","SEMINARISTA"===t.dados.value.hierarquia)}},directives:[n.z,n.o,n.g,d.x,d.A,d.t,a.d,d.P,d.w,d.S,n.b,n.n,n.f,i.n,d.zb,d.J,d.I,d.mb,i.m,d.y,d.jb,p.a,n.i],styles:[""]}),r})()}];let I=(()=>{class r{}return r.\u0275mod=l.Qb({type:r}),r.\u0275inj=l.Pb({factory:function(t){return new(t||r)},imports:[[a.g.forChild(Y)],a.g]}),r})();var X=e("oG2T"),E=e("O+SD");let S=(()=>{class r{}return r.\u0275mod=l.Qb({type:r}),r.\u0275inj=l.Pb({factory:function(t){return new(t||r)},imports:[[i.c,n.u,n.h,d.B,d.R,d.T,d.nb,d.Ab,d.u,d.K,X.a,p.b.forRoot(E.customCurrencyMaskConfig),I]]}),r})()},"sdC+":function(r,t,e){"use strict";e.d(t,"a",(function(){return s}));var i=e("/h9T"),a=e("dLU1"),o=e("jIYg");function n(r,t){Object(o.a)(2,arguments);var e=Object(i.a)(t);return Object(a.a)(r,12*e)}function s(r,t){Object(o.a)(2,arguments);var e=Object(i.a)(t);return n(r,-e)}},vI6V:function(r,t,e){"use strict";e.d(t,"d",(function(){return i})),e.d(t,"a",(function(){return a})),e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return n}));var i=function(r){return r.ABERTO="Aberto",r.PRODUZINDO="Produzindo",r.ENTREGUE="Entregue",r.PAGO="Pago",r.CANCELADO="Cancelado",r.SLC_CANCELAMENTO="Slc. Canc.",r}({}),a=function(r){return r.PROPEDEUTICO="Proped\xeautico",r.FILOSOFIA="Filosofia",r.TEOLOGIA="Teologia",r.TIROCINIO="Tiroc\xednio",r}({}),o=function(r){return r.SEMINARISTA="Seminarista",r.FORMADOR="Formador",r.REITOR="Reitor",r.CONSELHO_GESTOR="Conselho Gestor",r.OUTROS="Outros",r}({}),n=function(r){return r.EM_ANALISE="Em an\xe1lise",r.CORRECAO="Solicitado corre\xe7\xe3o",r.APROVADO="Aprovado",r.DEPOSITADO="Depositado",r}({})}}]);