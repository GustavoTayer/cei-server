function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}function _createClass(a,e,r){return e&&_defineProperties(a.prototype,e),r&&_defineProperties(a,r),a}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{UrDz:function(a,e,r){"use strict";r.r(e),r.d(e,"RegisterModule",(function(){return F}));var i=r("ofXK"),n=r("3Pt+"),t=r("qXBG"),o=r("fXoL"),s=r("tyNb"),l=r("aceb");function c(a,e){if(1&a&&(o.Yb(0,"li",20),o.Jc(1),o.Xb()),2&a){var r=e.$implicit;o.Fb(1),o.Kc(r)}}function u(a,e){if(1&a&&(o.Yb(0,"nb-alert",16),o.Yb(1,"p",17),o.Yb(2,"b"),o.Jc(3,"Oh snap!"),o.Xb(),o.Xb(),o.Yb(4,"ul",18),o.Hc(5,c,2,1,"li",19),o.Xb(),o.Xb()),2&a){var r=o.kc();o.Fb(5),o.rc("ngForOf",r.errors)}}function b(a,e){1&a&&(o.Yb(0,"p",22),o.Jc(1," Campo obrigat\xf3rio! "),o.Xb())}function f(a,e){if(1&a&&(o.Wb(0),o.Hc(1,b,2,0,"p",21),o.Vb()),2&a){var r=o.kc();o.Fb(1),o.rc("ngIf",r.verificaValidacaoCampo("name","required"))}}function d(a,e){1&a&&(o.Yb(0,"p",22),o.Jc(1," Senha \xe9 obrigat\xf3rio! "),o.Xb())}function p(a,e){1&a&&(o.Yb(0,"p",22),o.Jc(1," Senha precisar ter: uma letra mai\xfascula, uma letra min\xfascula, um n\xfamero, um caractere especial (@#$%) e tamanho entre 6-20. "),o.Xb())}function m(a,e){if(1&a&&(o.Wb(0),o.Hc(1,d,2,0,"p",21),o.Hc(2,p,2,0,"p",21),o.Vb()),2&a){var r=o.kc();o.Fb(1),o.rc("ngIf",r.verificaValidacaoCampo("password","required")),o.Fb(1),o.rc("ngIf",r.verificaValidacaoCampo("password","senhaFraca"))}}function g(a,e){1&a&&(o.Yb(0,"p",22),o.Jc(1," Confimar senha \xe9 obrigat\xf3rio! "),o.Xb())}function h(a,e){1&a&&(o.Yb(0,"p",22),o.Jc(1," As senhas n\xe3o est\xe3o combinando "),o.Xb())}function v(a,e){if(1&a&&(o.Wb(0),o.Hc(1,g,2,0,"p",21),o.Hc(2,h,2,0,"p",21),o.Vb()),2&a){var r=o.kc();o.Fb(1),o.rc("ngIf",r.verificaValidacaoCampo("confirm_password","required")),o.Fb(1),o.rc("ngIf",r.validateEqualPassword())}}var w,C,X=function(){return["/auth/login"]},Y=((C=function(){function a(e,r,i,t){var o=this;_classCallCheck(this,a),this.fb=e,this.authService=r,this.route=i,this.router=t,this.form=this.fb.group({name:[null,n.x.required],email:null,hierarquia:null,password:[null,[n.x.required,this.validatePassword]],confirm_password:[null,n.x.required],bd:null}),this.password="",this.route.params.subscribe((function(a){o.id=a.id,"novo"!==o.id&&o.authService.obterConvite(o.id).subscribe((function(a){o.form.patchValue(Object.assign({},a)),o.form.controls.email.disable()}),(function(a){return alert(a)}))}))}return _createClass(a,[{key:"ngOnInit",value:function(){var a=this;this.form.controls.password.valueChanges.subscribe((function(e){a.password=e}))}},{key:"validateEqualPassword",value:function(){return this.form.value.password!==this.form.value.confirm_password}},{key:"validatePassword",value:function(a){return a.value&&a.value.match(/((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})/)?null:{senhaFraca:{valid:!1}}}},{key:"register",value:function(){var a=this;this.authService.registerUser(Object.assign(Object.assign({},this.form.getRawValue()),{conviteId:this.id})).subscribe((function(e){localStorage.setItem("usuarioNome",e.name),localStorage.setItem("token",e.token),a.router.navigate(["pages/dashboard"])}))}},{key:"verificaValidacaoCampo",value:function(a,e){return this.form.controls[a].dirty&&(e?this.form.controls[a].errors&&this.form.controls[a].errors[e]:this.form.controls[a].invalid)}},{key:"getConfigValue",value:function(){}}]),a}()).\u0275fac=function(a){return new(a||C)(o.Sb(n.c),o.Sb(t.a),o.Sb(s.a),o.Sb(s.c))},C.\u0275cmp=o.Mb({type:C,selectors:[["ngx-register"]],decls:29,vars:11,consts:[["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["aria-labelledby","title",3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-name",1,"label"],["nbInput","","formControlName","name","id","input-name","name","fullName","placeholder","Nome","autofocus","","fullWidth","","fieldSize","large",3,"status"],[4,"ngIf"],["for","input-email",1,"label"],["nbInput","","formControlName","email","id","input-email","name","email","placeholder","Email","fullWidth","","fieldSize","large"],["for","input-password",1,"label"],["nbInput","","formControlName","password","type","password","id","input-password","name","password","placeholder","Senha","fullWidth","","fieldSize","large",3,"status"],["for","input-re-password",1,"label"],["nbInput","","formControlName","confirm_password","type","password","id","input-re-password","name","rePass","placeholder","Confirmar senha","fullWidth","","fieldSize","large",3,"status"],["nbButton","","fullWidth","","status","primary","size","large",3,"disabled"],["aria-label","Sign in",1,"another-action"],[1,"text-link",3,"routerLink"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(a,e){1&a&&(o.Yb(0,"h1",0),o.Jc(1,"Registro"),o.Xb(),o.Hc(2,u,6,1,"nb-alert",1),o.Yb(3,"form",2),o.gc("ngSubmit",(function(){return e.register()})),o.Yb(4,"div",3),o.Yb(5,"label",4),o.Jc(6,"Nome:"),o.Xb(),o.Tb(7,"input",5),o.Hc(8,f,2,1,"ng-container",6),o.Xb(),o.Yb(9,"div",3),o.Yb(10,"label",7),o.Jc(11,"Email:"),o.Xb(),o.Tb(12,"input",8),o.Xb(),o.Yb(13,"div",3),o.Yb(14,"label",9),o.Jc(15,"Senha:"),o.Xb(),o.Tb(16,"input",10),o.Hc(17,m,3,2,"ng-container",6),o.Xb(),o.Yb(18,"div",3),o.Yb(19,"label",11),o.Jc(20,"Confirmar senha:"),o.Xb(),o.Tb(21,"input",12),o.Hc(22,v,3,2,"ng-container",6),o.Xb(),o.Yb(23,"button",13),o.Jc(24," Criar conta "),o.Xb(),o.Xb(),o.Yb(25,"section",14),o.Jc(26," J\xe1 possui uma conta? "),o.Yb(27,"a",15),o.Jc(28,"entrar"),o.Xb(),o.Xb()),2&a&&(o.Fb(2),o.rc("ngIf",null==e.errors?null:e.errors.length),o.Fb(1),o.rc("formGroup",e.form),o.Fb(4),o.rc("status",e.verificaValidacaoCampo("name")?"danger":"basic"),o.Fb(1),o.rc("ngIf",e.verificaValidacaoCampo("name")),o.Fb(8),o.rc("status",e.verificaValidacaoCampo("password")?"danger":"basic"),o.Fb(1),o.rc("ngIf",e.verificaValidacaoCampo("password")),o.Fb(4),o.rc("status",e.verificaValidacaoCampo("confirm_password")||e.validateEqualPassword()?"danger":"basic"),o.Fb(1),o.rc("ngIf",e.verificaValidacaoCampo("confirm_password")||e.validateEqualPassword()),o.Fb(1),o.rc("disabled",!e.form.valid||e.validateEqualPassword()),o.Fb(4),o.rc("routerLink",o.tc(10,X)))},directives:[i.n,n.z,n.o,n.g,l.S,n.b,n.n,n.f,l.t,s.f,l.o,i.m],styles:[""]}),C),F=((w=function a(){_classCallCheck(this,a)}).\u0275mod=o.Qb({type:w}),w.\u0275inj=o.Pb({factory:function(a){return new(a||w)},imports:[[i.c,l.R,l.T,n.u,l.p,l.u,n.h,l.E,s.g.forChild([{path:":id",component:Y}])]]}),w)}}]);