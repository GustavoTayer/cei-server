function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&_setPrototypeOf(t,n)}function _setPrototypeOf(t,n){return(_setPrototypeOf=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _createSuper(t){var n=_isNativeReflectConstruct();return function(){var e,r=_getPrototypeOf(t);if(n){var o=_getPrototypeOf(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(t):n}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{dLU1:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var r=e("/h9T"),o=e("/Tr7"),i=e("jIYg");function a(t){Object(i.a)(1,arguments);var n=Object(o.a)(t),e=n.getFullYear(),r=n.getMonth(),a=new Date(0);return a.setFullYear(e,r+1,0),a.setHours(0,0,0,0),a.getDate()}function c(t,n){Object(i.a)(2,arguments);var e=Object(o.a)(t),c=Object(r.a)(n),u=e.getMonth()+c,s=new Date(0);s.setFullYear(e.getFullYear(),u,1),s.setHours(0,0,0,0);var b=a(s);return e.setMonth(u,Math.min(b,e.getDate())),e}},vI6V:function(t,n,e){"use strict";e.d(n,"d",(function(){return r})),e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a}));var r=function(t){return t.ABERTO="Aberto",t.PRODUZINDO="Produzindo",t.ENTREGUE="Entregue",t.PAGO="Pago",t.CANCELADO="Cancelado",t.SLC_CANCELAMENTO="Slc. Canc.",t}({}),o=function(t){return t.PROPEDEUTICO="Proped\xeautico",t.FILOSOFIA="Filosofia",t.TEOLOGIA="Teologia",t.TIROCINIO="Tiroc\xednio",t}({}),i=function(t){return t.SEMINARISTA="Seminarista",t.FORMADOR="Formador",t.REITOR="Reitor",t.CONSELHO_GESTOR="Conselho Gestor",t.OUTROS="Outros",t}({}),a=function(t){return t.EM_ANALISE="Em an\xe1lise",t.CORRECAO="Solicitado corre\xe7\xe3o",t.APROVADO="Aprovado",t.DEPOSITADO="Depositado",t}({})},z3YT:function(t,n,e){"use strict";e.r(n),e.d(n,"ListagemModule",(function(){return C}));var r=e("ofXK"),o=e("tyNb"),i=e("zeoc"),a=e("sWYD"),c=e("vI6V"),u=e("lKi6"),s=e("3+or"),b=e("fXoL"),l=e("aceb");function f(t,n){1&t&&(b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Jc(2,"Voc\xea ainda n\xe3o enviou comprovante esse ano"),b.Xb(),b.Xb())}var p=function(t){return["/pages/partilha-solidaria/editar/",t]};function d(t,n){if(1&t&&(b.Yb(0,"button",16),b.Tb(1,"nb-icon",17),b.Xb()),2&t){var e=b.kc().$implicit;b.rc("routerLink",b.uc(1,p,e._id))}}function v(t,n){if(1&t){var e=b.Zb();b.Yb(0,"nb-card",6),b.Yb(1,"nb-card-header"),b.Yb(2,"span",7),b.Jc(3),b.Xb(),b.Yb(4,"span",7),b.Jc(5," - "),b.Xb(),b.Yb(6,"span"),b.Jc(7),b.Xb(),b.Xb(),b.Yb(8,"nb-card-body"),b.Yb(9,"div",8),b.Yb(10,"div",9),b.Yb(11,"label",10),b.Jc(12,"Data prevista de deposito:"),b.Xb(),b.Yb(13,"div",11),b.Yb(14,"b"),b.Jc(15),b.Xb(),b.Xb(),b.Xb(),b.Yb(16,"div",9),b.Yb(17,"label",12),b.Jc(18,"Data deposito:"),b.Xb(),b.Yb(19,"div",11),b.Yb(20,"b"),b.Jc(21),b.Xb(),b.Xb(),b.Xb(),b.Yb(22,"div",9),b.Yb(23,"label",12),b.Jc(24,"Valor comprovante:"),b.Xb(),b.Yb(25,"div",11),b.Yb(26,"b"),b.Jc(27),b.lc(28,"currency"),b.Xb(),b.Xb(),b.Xb(),b.Yb(29,"div",9),b.Yb(30,"label",12),b.Jc(31,"Valor depositado: "),b.Xb(),b.Yb(32,"div",11),b.Yb(33,"b"),b.Jc(34),b.lc(35,"currency"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(36,"nb-card-footer"),b.Yb(37,"button",13),b.gc("click",(function(){b.Bc(e);var t=n.$implicit;return b.kc(2).downloadComprovante(t)})),b.Tb(38,"nb-icon",14),b.Xb(),b.Hc(39,d,2,3,"button",15),b.Xb(),b.Xb()}if(2&t){var r=n.$implicit,o=b.kc(2);b.rc("accent",o.obterStatusCard(r.status)),b.Fb(3),b.Lc(" ",o.mes(r.mes)," "),b.Fb(4),b.Lc(" ",o.obterStatus(r.status)," "),b.Fb(8),b.Kc(o.formataData(r.dataPrevistaRecebimento)),b.Fb(6),b.Kc(r.dataDeposito?o.formataData(r.dataDeposito):"-"),b.Fb(6),b.Kc(b.nc(28,9,r.valorComprovante,"BRL")),b.Fb(7),b.Kc(r.valorDepositado?b.nc(35,12,r.valorDepositado,"BRL"):"-"),b.Fb(3),b.rc("nbSpinner",o.loadingDownload[r._id]),b.Fb(2),b.rc("ngIf",o.correcao(r.status))}}function g(t,n){if(1&t&&b.Hc(0,v,40,15,"nb-card",5),2&t){var e=b.kc();b.rc("ngForOf",e.comprovantes)}}var h,O,y,m=[{path:"",component:(h=function(t){_inherits(e,t);var n=_createSuper(e);function e(t){var r;return _classCallCheck(this,e),(r=n.call(this)).partilhaService=t,r.loadingDownload={},r.loading=!1,r}return _createClass(e,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.subs.sink=this.partilhaService.lista().subscribe((function(n){t.comprovantes=n||[],t.comprovantes.forEach((function(n){t.loadingDownload[n._id]=!1}))}),(function(t){return t}),(function(){return t.loading=!1}))}},{key:"buscar",value:function(){var t=this;this.loading=!0,this.subs.sink=this.partilhaService.lista().subscribe((function(n){return t.comprovantes=n||[]}),(function(t){return t}),(function(){return t.loading=!1}))}},{key:"formataData",value:function(t){return Object(a.a)(new Date(t),"dd/MM/yyyy")}},{key:"obterStatus",value:function(t){return c.c[t]}},{key:"mes",value:function(t){return Object(u.a)(t).mes}},{key:"obterStatusCard",value:function(t){switch(t){case"APROVADO":case"DEPOSITADO":return"success";case"CORRECAO":return"danger";case"EM_ANALISE":return"warning"}}},{key:"teste",value:function(){this.partilhaService.teste().subscribe((function(t){return t}))}},{key:"correcao",value:function(t){return c.c[t]===c.c.CORRECAO||c.c[t]===c.c.EM_ANALISE}},{key:"downloadComprovante",value:function(t){var n=this;this.loadingDownload[t._id]=!0,this.partilhaService.obterArquivoComprovante(t).subscribe((function(t){return t}),(function(t){return t}),(function(){return n.loadingDownload[t._id]=!1}))}}]),e}(s.a),h.\u0275fac=function(t){return new(t||h)(b.Sb(i.a))},h.\u0275cmp=b.Mb({type:h,selectors:[["ngx-listagem"]],features:[b.Cb],decls:8,vars:3,consts:[["nbSpinnerStatus","primary",3,"nbSpinner"],["nbButton","","status","primary","routerLink","/pages/partilha-solidaria/editar/novo","nbTooltip","Enviar comprovante","nbTooltipStatus","success",2,"margin-left","10px"],["icon","plus-outline"],[4,"ngIf","ngIfElse"],["list",""],[3,"accent",4,"ngFor","ngForOf"],[3,"accent"],[2,"margin-right","5px"],[1,"form-group","row"],[1,"form-group","col-md-3","col-6"],[1,"label",2,"margin-right","5px"],[2,"width","100%"],[1,"label"],["nbButton","","status","info","hero","","nbTooltip","Ver documento","nbTooltipStatus","info","nbSpinnerStatus","success",2,"margin-right","5px",3,"nbSpinner","click"],["icon","eye-outline"],["nbButton","","status","danger","hero","","nbTooltip","Corrigir comprovante","nbTooltipStatus","primary",3,"routerLink",4,"ngIf"],["nbButton","","status","danger","hero","","nbTooltip","Corrigir comprovante","nbTooltipStatus","primary",3,"routerLink"],["icon","edit-2-outline"]],template:function(t,n){if(1&t&&(b.Yb(0,"nb-card",0),b.Yb(1,"nb-card-header"),b.Jc(2,"Partilha solid\xe1ria "),b.Yb(3,"button",1),b.Tb(4,"nb-icon",2),b.Xb(),b.Xb(),b.Xb(),b.Hc(5,f,3,0,"nb-card",3),b.Hc(6,g,1,1,"ng-template",null,4,b.Ic)),2&t){var e=b.yc(7);b.rc("nbSpinner",n.loading),b.Fb(5),b.rc("ngIf",!n.comprovantes||!n.comprovantes.length)("ngIfElse",e)}},directives:[l.x,l.ub,l.A,l.t,o.d,l.Db,l.P,r.n,r.m,l.w,l.y],pipes:[r.d],styles:[".item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.item[_ngcontent-%COMP%]:first-child{border-top:none}"]}),h)}],_=((y=function t(){_classCallCheck(this,t)}).\u0275mod=b.Qb({type:y}),y.\u0275inj=b.Pb({factory:function(t){return new(t||y)},imports:[[o.g.forChild(m)],o.g]}),y),C=((O=function t(){_classCallCheck(this,t)}).\u0275mod=b.Qb({type:O}),O.\u0275inj=b.Pb({factory:function(t){return new(t||O)},imports:[[r.c,_,l.db,l.B,l.u,l.vb,l.R,l.Eb]]}),O)}}]);