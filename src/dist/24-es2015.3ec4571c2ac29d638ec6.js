(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{XncV:function(r,o,t){"use strict";t.r(o),t.d(o,"PartilhaAdiantamentoEditarModule",(function(){return j}));var a=t("ofXK"),i=t("tyNb"),n=t("3Pt+"),s=t("v8Ly"),e=t("lJxs"),c=t("zeoc"),l=t("LRne"),u=t("fXoL"),b=t("aceb"),f=t("TT0I");function d(r,o){if(1&r&&(u.Yb(0,"nb-option",15),u.Jc(1),u.Xb()),2&r){const r=o.$implicit;u.rc("value",r),u.Fb(1),u.Lc(" ",r.name," ")}}function m(r,o){1&r&&(u.Yb(0,"p",17),u.Jc(1," Favor escolher o seminarista ap\xf3s pesquisar "),u.Xb())}function p(r,o){1&r&&(u.Yb(0,"p",17),u.Jc(1," Campo obrigat\xf3rio "),u.Xb())}function h(r,o){if(1&r&&(u.Wb(0),u.Hc(1,m,2,0,"p",16),u.Hc(2,p,2,0,"p",16),u.Vb()),2&r){const r=u.kc();u.Fb(1),u.rc("ngIf",!(null!=r.form.controls.usuario.errors&&r.form.controls.usuario.errors.required)&&(null==r.form.controls.usuario.errors?null:r.form.controls.usuario.errors.selecionado)),u.Fb(1),u.rc("ngIf",null==r.form.controls.usuario.errors?null:r.form.controls.usuario.errors.required)}}function v(r,o){1&r&&(u.Yb(0,"p",17),u.Jc(1," Campo obrigat\xf3rio "),u.Xb())}function g(r,o){if(1&r&&(u.Wb(0),u.Hc(1,v,2,0,"p",16),u.Vb()),2&r){const r=u.kc();u.Fb(1),u.rc("ngIf",null==r.form.controls.data.errors?null:r.form.controls.data.errors.required)}}function w(r,o){1&r&&(u.Yb(0,"p",17),u.Jc(1," Campo obrigat\xf3rio "),u.Xb())}function X(r,o){1&r&&(u.Yb(0,"p",17),u.Jc(1," Valor precisa ser maior do que zero "),u.Xb())}function F(r,o){if(1&r&&(u.Wb(0),u.Hc(1,w,2,0,"p",16),u.Hc(2,X,2,0,"p",16),u.Vb()),2&r){const r=u.kc();u.Fb(1),u.rc("ngIf",null==r.form.controls.valor.errors?null:r.form.controls.valor.errors.required),u.Fb(1),u.rc("ngIf",null==r.form.controls.valor.errors?null:r.form.controls.valor.errors.min)}}function Y(r,o){1&r&&(u.Yb(0,"p",17),u.Jc(1," Campo obrigat\xf3rio "),u.Xb())}function y(r,o){if(1&r&&(u.Wb(0),u.Hc(1,Y,2,0,"p",16),u.Vb()),2&r){const r=u.kc();u.Fb(1),u.rc("ngIf",null==r.form.controls.justificativa.errors?null:r.form.controls.justificativa.errors.required)}}const C=[{path:"",component:(()=>{class r{constructor(r,o,t,a){this.fb=r,this.usuarioService=o,this.partilhaService=t,this.router=a,this.form=this.fb.group({usuario:[null,[this.validateSeminarista,n.x.required]],data:[new Date,n.x.required],justificativa:[null,n.x.required],valor:[0,[n.x.required,n.x.min(.01)]]}),this.showPassword=!0}ngOnInit(){this.usuarioService.seminaristasAtivosAutocomplete("").subscribe(r=>{this.usuarios=r,this.filteredOptions$=Object(l.a)(this.usuarios.slice(0,5))}),this.form.controls.usuario.valueChanges.subscribe(r=>this.filteredOptions$=this.getFilteredOptions(r))}filter(r){const o=r.toLowerCase();return this.usuarios.filter(r=>r.name.toLowerCase().includes(o)).slice(0,4)}getFilteredOptions(r){return Object(l.a)(r).pipe(Object(e.a)(r=>this.filter(r)))}viewHandle(r){return r&&r.name?r.name:r}validateSeminarista(r){return"object"==typeof r.value?null:{selecionado:{valid:!1}}}verificaValidacaoValor(r){return r?this.form.controls.valor.errors&&this.form.controls.valor.errors[r]:this.form.controls.valor.invalid}verificaValidacaoCampo(r,o){return this.form.controls[r].dirty&&(o?this.form.controls[r].errors&&this.form.controls[r].errors[o]:this.form.controls[r].invalid)}getInputType(){return this.showPassword?"text":"password"}toggleShowPassword(){this.showPassword=!this.showPassword}criar(){this.form.valid&&this.partilhaService.adiantamentoCriar(this.form.value).subscribe(r=>{this.router.navigate(["/pages/admin/partilha/adiantamento/lista"])})}}return r.\u0275fac=function(o){return new(o||r)(u.Sb(n.c),u.Sb(s.a),u.Sb(c.a),u.Sb(i.c))},r.\u0275cmp=u.Mb({type:r,selectors:[["ngx-partilha-adiantamento-editar"]],decls:36,vars:14,consts:[[3,"formGroup"],[1,"row","form-group"],[1,"col-md-4","form-group"],[1,"label"],["formControlName","usuario","nbInput","","type","text","placeholder","Usu\xe1rio","fullWidth","","isClosed","",3,"nbAutocomplete","status"],[3,"handleDisplayFn"],["auto",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["nbInput","","formControlName","data","fullWidth","",3,"nbDatepicker","status"],["dataDe",""],["fullWidth","","shape","round","type","tel","nbInput","","currencyMask","","formControlName","valor","maxlength","15",3,"status"],[1,"col-12","form-group"],["nbInput","","fullWidth","","formControlName","justificativa"],["nbButton","",3,"click"],[3,"value"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(r,o){if(1&r&&(u.Yb(0,"nb-card"),u.Yb(1,"nb-card-header"),u.Jc(2," Novo adiantamento "),u.Xb(),u.Yb(3,"nb-card-body"),u.Yb(4,"form",0),u.Yb(5,"div",1),u.Yb(6,"div",2),u.Yb(7,"label",3),u.Jc(8,"Seminarista"),u.Xb(),u.Tb(9,"input",4),u.Yb(10,"nb-autocomplete",5,6),u.Hc(12,d,2,2,"nb-option",7),u.lc(13,"async"),u.Xb(),u.Hc(14,h,3,2,"ng-container",8),u.Xb(),u.Yb(15,"div",2),u.Yb(16,"label",3),u.Jc(17,"Data:"),u.Xb(),u.Tb(18,"input",9),u.Tb(19,"nb-datepicker",null,10),u.Hc(21,g,2,1,"ng-container",8),u.Xb(),u.Yb(22,"div",2),u.Yb(23,"label",3),u.Jc(24,"Valor:"),u.Xb(),u.Tb(25,"input",11),u.Hc(26,F,3,2,"ng-container",8),u.Xb(),u.Xb(),u.Yb(27,"div",1),u.Yb(28,"div",12),u.Yb(29,"label",3),u.Jc(30,"Justificativa"),u.Xb(),u.Tb(31,"textarea",13),u.Hc(32,y,2,1,"ng-container",8),u.Xb(),u.Xb(),u.Xb(),u.Xb(),u.Yb(33,"nb-card-footer"),u.Yb(34,"button",14),u.gc("click",(function(){return o.criar()})),u.Jc(35,"Criar"),u.Xb(),u.Xb(),u.Xb()),2&r){const r=u.yc(11),t=u.yc(20);u.Fb(4),u.rc("formGroup",o.form),u.Fb(5),u.rc("nbAutocomplete",r)("status",o.form.controls.usuario.touched?o.verificaValidacaoCampo("usuario")?"danger":"success":"basic"),u.Fb(1),u.rc("handleDisplayFn",o.viewHandle),u.Fb(2),u.rc("ngForOf",u.mc(13,12,o.filteredOptions$)),u.Fb(2),u.rc("ngIf",o.form.controls.usuario.invalid&&o.form.controls.usuario.touched),u.Fb(4),u.rc("nbDatepicker",t)("status",o.verificaValidacaoCampo("data")?"danger":"success"),u.Fb(3),u.rc("ngIf",o.form.controls.data.invalid&&o.form.controls.data.touched),u.Fb(4),u.rc("status",o.form.controls.valor.touched?o.verificaValidacaoCampo("valor")?"danger":"success":"basic"),u.Fb(1),u.rc("ngIf",o.form.controls.valor.invalid&&o.form.controls.valor.touched),u.Fb(6),u.rc("ngIf",o.form.controls.justificativa.invalid&&o.form.controls.justificativa.touched)}},directives:[b.x,b.A,b.w,n.z,n.o,n.g,n.b,b.S,b.r,n.n,n.f,b.q,a.m,a.n,b.J,b.I,f.a,n.i,b.y,b.t,b.jb],pipes:[a.b],styles:[""]}),r})()}];let I=(()=>{class r{}return r.\u0275mod=u.Qb({type:r}),r.\u0275inj=u.Pb({factory:function(o){return new(o||r)},imports:[[i.g.forChild(C)],i.g]}),r})();var J=t("oG2T"),S=t("O+SD");let j=(()=>{class r{}return r.\u0275mod=u.Qb({type:r}),r.\u0275inj=u.Pb({factory:function(o){return new(o||r)},imports:[[a.c,I,b.B,b.T,b.nb,b.u,b.K,J.a,n.u,n.h,b.s,b.R,f.b.forRoot(S.customCurrencyMaskConfig)]]}),r})()}}]);