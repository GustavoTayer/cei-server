function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"3ZFV":function(t,e,n){"use strict";n.r(e),n.d(e,"ListaSolicitacaoModule",(function(){return Ct}));var a,c,i=n("ofXK"),r=n("lJxs"),o=n("UXun"),b=n("fXoL"),s=n("nLfN"),u=n("XNiG"),l=n("itXk"),d=n("GyhO"),f=n("HDdC"),g=n("IzEk"),m=n("zP0r"),h=n("Kj3r"),p=n("JX91"),v=n("1G5W"),k=n("8LU1"),y=new Set,X=((c=function(){function t(e){_classCallCheck(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):C}return _createClass(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!y.has(t))try{a||((a=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(a)),a.sheet&&(a.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),y.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||c)(b.cc(s.a))},c.\u0275prov=Object(b.Ob)({factory:function(){return new c(Object(b.cc)(s.a))},token:c,providedIn:"root"}),c);function C(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var Y,P=((Y=function(){function t(e,n){_classCallCheck(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new u.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return F(Object(k.a)(t)).some((function(t){return e._registerQuery(t).mql.matches}))}},{key:"observe",value:function(t){var e=this,n=F(Object(k.a)(t)).map((function(t){return e._registerQuery(t).observable})),a=Object(l.a)(n);return(a=Object(d.a)(a.pipe(Object(g.a)(1)),a.pipe(Object(m.a)(1),Object(h.a)(0)))).pipe(Object(r.a)((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),a={observable:new f.a((function(t){var a=function(n){return e._zone.run((function(){return t.next(n)}))};return n.addListener(a),function(){n.removeListener(a)}})).pipe(Object(p.a)(n),Object(r.a)((function(e){return{query:t,matches:e.matches}})),Object(v.a)(this._destroySubject)),mql:n};return this._queries.set(t,a),a}}]),t}()).\u0275fac=function(t){return new(t||Y)(b.cc(X),b.cc(b.A))},Y.\u0275prov=Object(b.Ob)({factory:function(){return new Y(Object(b.cc)(X),Object(b.cc)(b.A))},token:Y,providedIn:"root"}),Y);function F(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var S,O=n("mrSG"),w=n("aceb"),D=n("8/IB"),T=n("vI6V"),_=n("wHSu"),j=((S=function(){function t(e){_classCallCheck(this,t),this.ref=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.ref.close(!1)}},{key:"submit",value:function(){this.ref.close(!0)}}]),t}()).\u0275fac=function(t){return new(t||S)(b.Sb(w.M))},S.\u0275cmp=b.Mb({type:S,selectors:[["ngx-dialog-show-component"]],decls:10,vars:0,consts:[["nbButton","","status","danger",1,"cancel",3,"click"],["nbButton","","status","success",3,"click"]],template:function(t,e){1&t&&(b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Jc(2,"Confirme a altera\xe7\xe3o de status"),b.Xb(),b.Yb(3,"nb-card-body"),b.Jc(4," Voc\xea tem certeza que deseja solicitar o cancelamento? "),b.Xb(),b.Yb(5,"nb-card-footer"),b.Yb(6,"button",0),b.gc("click",(function(){return e.cancel()})),b.Jc(7,"Cancelar"),b.Xb(),b.Yb(8,"button",1),b.gc("click",(function(){return e.submit()})),b.Jc(9,"Solicitar"),b.Xb(),b.Xb(),b.Xb())},directives:[w.x,w.A,w.w,w.y,w.t],styles:["input[_ngcontent-%COMP%]{width:100%}.cancel[_ngcontent-%COMP%]{margin-right:2rem}"]}),S),J=n("9ig3"),x=n("jKzE"),N=n("sWYD"),M=n("3Pt+"),H=n("6NWb"),L=n("tyNb");function B(t,e){if(1&t&&(b.Yb(0,"nb-option",33),b.Jc(1),b.Xb()),2&t){var n=e.$implicit;b.rc("value",n.k),b.Fb(1),b.Kc(n.v)}}function G(t,e){1&t&&b.Tb(0,"tr",34)}function A(t,e){1&t&&b.Tb(0,"tr",35),2&t&&b.rc("clickToToggle",!1)}function R(t,e){if(1&t&&(b.Yb(0,"th",36),b.Jc(1," Status/Produto "),b.Xb()),2&t){var n=b.kc();b.rc("nbSortHeader",n.getSortDirection("nome"))}}function I(t,e){if(1&t&&b.Tb(0,"nb-tree-grid-row-toggle",39),2&t){var n=b.kc().$implicit;b.rc("expanded",n.expanded)}}function z(t,e){if(1&t&&(b.Yb(0,"td",37),b.Hc(1,I,1,1,"nb-tree-grid-row-toggle",38),b.Jc(2),b.Xb()),2&t){var n=e.$implicit;b.Fb(1),b.rc("ngIf",n.children),b.Fb(1),b.Lc(" ",n.data.nome," ")}}function q(t,e){if(1&t&&(b.Yb(0,"th",36),b.Jc(1," Dt. Desejada/Qtd. Solicitada "),b.Xb()),2&t){var n=b.kc();b.rc("nbSortHeader",n.getSortDirection("uq"))}}function E(t,e){if(1&t&&(b.Yb(0,"td",37),b.Jc(1),b.Xb()),2&t){var n=e.$implicit;b.Fb(1),b.Lc(" ",n.data.uq," ")}}function V(t,e){if(1&t&&(b.Yb(0,"th",36),b.Jc(1," Valor "),b.Xb()),2&t){var n=b.kc();b.rc("nbSortHeader",n.getSortDirection("valor"))}}function $(t,e){if(1&t&&(b.Yb(0,"td",37),b.Jc(1),b.Xb()),2&t){var n=e.$implicit;b.Fb(1),b.Lc(" ",n.data.valor," ")}}function K(t,e){if(1&t&&(b.Yb(0,"th",36),b.Jc(1," Criado em "),b.Xb()),2&t){var n=b.kc();b.rc("nbSortHeader",n.getSortDirection("dataDesejada"))}}function W(t,e){if(1&t&&(b.Yb(0,"td",37),b.Jc(1),b.Xb()),2&t){var n=e.$implicit;b.Fb(1),b.Lc(" ",n.data.criadoEm," ")}}function Q(t,e){1&t&&(b.Yb(0,"th",40),b.Jc(1," Cancelar "),b.Xb())}function Z(t,e){if(1&t){var n=b.Zb();b.Yb(0,"td",37),b.Yb(1,"button",41),b.gc("click",(function(){b.Bc(n);var t=e.$implicit;return b.kc().alterarStatus(t.data._id)})),b.Tb(2,"fa-icon",30),b.Xb(),b.Xb()}if(2&t){var a=e.$implicit,c=b.kc();b.Fb(1),b.rc("disabled","Aberto"!==a.data.nome),b.Fb(1),b.rc("icon",c.faTrash)}}function U(t,e){if(1&t){var n=b.Zb();b.Yb(0,"button",42),b.gc("click",(function(){b.Bc(n);var t=b.kc();return t.mudarPagina(t.pageNumber-1)})),b.Jc(1),b.Xb()}if(2&t){var a=b.kc();b.Fb(1),b.Lc(" ",a.pageNumber-1," ")}}function tt(t,e){if(1&t){var n=b.Zb();b.Yb(0,"button",42),b.gc("click",(function(){b.Bc(n);var t=b.kc();return t.mudarPagina(t.pageNumber+1)})),b.Jc(1),b.Xb()}if(2&t){var a=b.kc();b.Fb(1),b.Lc(" ",a.pageNumber+1," ")}}var et,nt,at=((nt=function(){function t(e,n,a,c,i){_classCallCheck(this,t),this.dataSourceBuilder=e,this.solicitacaoProdutoService=n,this.fb=a,this.toastrService=c,this.dialogService=i,this.customColumn="nome",this.defaultColumns=[],this.allColumns=["nome","uq","valor","dataDesejada","cancelar"],this.status=Object.keys(T.d).map((function(t){return{k:t,v:T.d[t]}})),this.sortDirection=w.rb.NONE,this.filtro=this.fb.group({dataCriacao:null,dataDesejada:null,status:null}),this.faSearch=_.h,this.faPlus=_.g,this.faTrash=_.i,this.faAngleRight=_.d,this.faAngleLeft=_.c,this.faAngleDoubleLeft=_.a,this.faAngleDoubleRight=_.b,this.nPerPage=10,this.pageNumber=1}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(J.a)(new Date),n=Object(x.a)(new Date),this.filtro.patchValue({status:"ABERTO",dataCriacao:{start:e,end:n},dataDesejada:{start:e,end:n}}),this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,1,this.nPerPage).subscribe((function(t){a.setData(t.solicitacoes),a.setLastPageAndCount(t.count)}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setLastPageAndCount",value:function(t){this.countSolicitacoes=t,this.nOfPages=Math.ceil(t/this.nPerPage)}},{key:"setData",value:function(t){this.data=t.map((function(t){var e=t.produtos;delete t.produtos;var n=e.map((function(t){return{data:{uq:t.quantidade,nome:t.produto.nome,valor:"R$ ".concat(t.valor.toFixed(2))}}})),a=Object(N.a)(new Date(t.dataDesejada),"dd/MM/yyyy"),c=Object(N.a)(new Date(t.criadoEm),"dd/MM/yyyy");return{data:{_id:t._id,nome:T.d[t.status],uq:a,valor:"R$ ".concat(t.valorTotal.toFixed(2)),criadoEm:c},children:n}})),this.dataSource=this.dataSourceBuilder.create(this.data)}},{key:"buscar",value:function(){var t=this;this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,1,this.nPerPage).subscribe((function(e){t.setData(e.solicitacoes),t.setLastPageAndCount(e.count),t.pageNumber=1}))}},{key:"cancelar",value:function(t){var e=this;this.solicitacaoProdutoService.cancelar(t).subscribe((function(t){e.toastrService.info("Favor, aguarde aprova\xe7\xe3o do respons\xe1vel","Solicita\xe7\xe3o de cancelamento enviada",{duration:6e3}),e.buscar()}))}},{key:"mudarPagina",value:function(t){var e=this;this.pageNumber=t,this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,this.pageNumber,this.nPerPage).subscribe((function(t){e.setData(t.solicitacoes),e.setLastPageAndCount(t.count)}))}},{key:"updateSort",value:function(t){this.sortColumn=t.column,this.sortDirection=t.direction}},{key:"getSortDirection",value:function(t){return this.sortColumn===t?this.sortDirection:w.rb.NONE}},{key:"getShowOn",value:function(t){return 400+100*t}},{key:"alterarStatus",value:function(t){var e=this;this.dialogService.open(j).onClose.subscribe((function(n){n&&e.cancelar(t)}))}}]),t}()).\u0275fac=function(t){return new(t||nt)(b.Sb(w.Hb),b.Sb(D.a),b.Sb(M.c),b.Sb(w.yb),b.Sb(w.N))},nt.\u0275cmp=b.Mb({type:nt,selectors:[["ngx-lista-solicitacao-desktop"]],decls:65,vars:22,consts:[[3,"formGroup"],[1,"row","form-group"],[1,"form-group","col-md-4"],["for","Nome","required","",1,"label"],["placeholder","Status","formControlName","status","fullWidth",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","form-group"],[1,"label"],["nbInput","","formControlName","dataCriacao",3,"nbDatepicker"],["rangepicker",""],["nbInput","","formControlName","dataDesejada",3,"nbDatepicker"],["dataDesejada",""],["nbButton","","status","basic",2,"padding","6px","margin-right","8px",3,"click"],[2,"margin-right","5px",3,"icon"],["nbButton","","status","primary","routerLink","/pages/solicitacao-produto/solicitar",2,"padding","6px"],[3,"nbTreeGrid","nbSort","sort"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",3,"clickToToggle",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],[3,"nbTreeGridColumnDef"],["nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridColumnDef","uq"],["nbTreeGridColumnDef","valor"],["nbTreeGridColumnDef","dataDesejada"],["nbTreeGridColumnDef","cancelar"],["nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbButton","","ghost","",3,"disabled"],[3,"icon","click"],["nbButton","","ghost","",3,"disabled","click"],[3,"icon"],["nbButton","","ghost","",3,"click",4,"ngIf"],["nbButton","","ghost","","status","primary"],[3,"value"],["nbTreeGridHeaderRow",""],["nbTreeGridRow","",3,"clickToToggle"],["nbTreeGridHeaderCell","",3,"nbSortHeader"],["nbTreeGridCell",""],[3,"expanded",4,"ngIf"],[3,"expanded"],["nbTreeGridHeaderCell",""],["ghost","","nbButton","","size","small",3,"disabled","click"],["nbButton","","ghost","",3,"click"]],template:function(t,e){if(1&t&&(b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Jc(2," Minhas solicita\xe7\xf5es "),b.Xb(),b.Yb(3,"nb-card-body"),b.Yb(4,"form",0),b.Yb(5,"div",1),b.Yb(6,"div",2),b.Yb(7,"label",3),b.Jc(8,"Status"),b.Xb(),b.Yb(9,"nb-select",4),b.Yb(10,"nb-option",5),b.Jc(11,"Todos"),b.Xb(),b.Hc(12,B,2,2,"nb-option",6),b.Xb(),b.Xb(),b.Yb(13,"div",7),b.Yb(14,"label",8),b.Jc(15,"Data de cria\xe7\xe3o:"),b.Xb(),b.Tb(16,"input",9),b.Tb(17,"nb-rangepicker",null,10),b.Xb(),b.Yb(19,"div",7),b.Yb(20,"label",8),b.Jc(21,"Data desejada:"),b.Xb(),b.Tb(22,"input",11),b.Tb(23,"nb-rangepicker",null,12),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(25,"nb-card-footer"),b.Yb(26,"button",13),b.gc("click",(function(){return e.buscar()})),b.Tb(27,"fa-icon",14),b.Jc(28,"buscar "),b.Xb(),b.Yb(29,"button",15),b.Tb(30,"fa-icon",14),b.Jc(31,"solicita\xe7\xe3o "),b.Xb(),b.Xb(),b.Xb(),b.Yb(32,"nb-card"),b.Yb(33,"nb-card-body"),b.Yb(34,"table",16),b.gc("sort",(function(t){return e.updateSort(t)})),b.Hc(35,G,1,0,"tr",17),b.Hc(36,A,1,1,"tr",18),b.Wb(37,19),b.Hc(38,R,2,1,"th",20),b.Hc(39,z,3,2,"td",21),b.Vb(),b.Wb(40,22),b.Hc(41,q,2,1,"th",20),b.Hc(42,E,2,1,"td",21),b.Vb(),b.Wb(43,23),b.Hc(44,V,2,1,"th",20),b.Hc(45,$,2,1,"td",21),b.Vb(),b.Wb(46,24),b.Hc(47,K,2,1,"th",20),b.Hc(48,W,2,1,"td",21),b.Vb(),b.Wb(49,25),b.Hc(50,Q,2,0,"th",26),b.Hc(51,Z,3,2,"td",21),b.Vb(),b.Xb(),b.Xb(),b.Yb(52,"nb-card-footer"),b.Yb(53,"button",27),b.Yb(54,"fa-icon",28),b.gc("click",(function(){return e.mudarPagina(1)})),b.Xb(),b.Xb(),b.Yb(55,"button",29),b.gc("click",(function(){return e.mudarPagina(e.pageNumber-2)})),b.Tb(56,"fa-icon",30),b.Xb(),b.Hc(57,U,2,1,"button",31),b.Yb(58,"button",32),b.Jc(59),b.Xb(),b.Hc(60,tt,2,1,"button",31),b.Yb(61,"button",29),b.gc("click",(function(){return e.mudarPagina(e.pageNumber+2)})),b.Tb(62,"fa-icon",30),b.Xb(),b.Yb(63,"button",29),b.gc("click",(function(){return e.mudarPagina(e.nOfPages)})),b.Tb(64,"fa-icon",30),b.Xb(),b.Xb(),b.Xb()),2&t){var n=b.yc(18),a=b.yc(24);b.Fb(4),b.rc("formGroup",e.filtro),b.Fb(8),b.rc("ngForOf",e.status),b.Fb(4),b.rc("nbDatepicker",n),b.Fb(6),b.rc("nbDatepicker",a),b.Fb(5),b.rc("icon",e.faSearch),b.Fb(3),b.rc("icon",e.faPlus),b.Fb(4),b.rc("nbTreeGrid",e.dataSource)("nbSort",e.dataSource),b.Fb(1),b.rc("nbTreeGridHeaderRowDef",e.allColumns),b.Fb(1),b.rc("nbTreeGridRowDefColumns",e.allColumns),b.Fb(1),b.rc("nbTreeGridColumnDef",e.customColumn),b.Fb(16),b.rc("disabled",1===e.pageNumber),b.Fb(1),b.rc("icon",e.faAngleDoubleLeft),b.Fb(1),b.rc("disabled",e.pageNumber<=2),b.Fb(1),b.rc("icon",e.faAngleLeft),b.Fb(1),b.rc("ngIf",e.pageNumber>1),b.Fb(2),b.Lc(" ",e.pageNumber," "),b.Fb(1),b.rc("ngIf",e.pageNumber<e.nOfPages),b.Fb(1),b.rc("disabled",e.pageNumber>=e.nOfPages-2),b.Fb(1),b.rc("icon",e.faAngleRight),b.Fb(1),b.rc("disabled",e.pageNumber===e.nOfPages),b.Fb(1),b.rc("icon",e.faAngleDoubleRight)}},directives:[w.x,w.A,w.w,M.z,M.o,M.g,w.mb,M.n,M.f,w.jb,i.m,w.S,M.b,w.J,w.kb,w.y,w.t,H.a,L.d,w.Gb,w.sb,w.Lb,w.Ob,w.Fb,w.Ib,w.Db,i.n,w.Kb,w.Nb,w.Jb,w.tb,w.Eb,w.Pb],styles:["button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.search-label[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:400px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-column-kind[_ngcontent-%COMP%], .nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-column-items[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:23%}}"]}),nt),ct=((et=function(){function t(e){_classCallCheck(this,t),this.ref=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.ref.close(!1)}},{key:"submit",value:function(){this.ref.close(!0)}}]),t}()).\u0275fac=function(t){return new(t||et)(b.Sb(w.M))},et.\u0275cmp=b.Mb({type:et,selectors:[["ngx-dialog-show-sol-mobile"]],decls:10,vars:0,consts:[["nbButton","","status","danger",1,"cancel",3,"click"],["nbButton","","status","success",3,"click"]],template:function(t,e){1&t&&(b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Jc(2,"Confirme a altera\xe7\xe3o de status"),b.Xb(),b.Yb(3,"nb-card-body"),b.Jc(4," Voc\xea tem certeza que deseja solicitar o cancelamento? "),b.Xb(),b.Yb(5,"nb-card-footer"),b.Yb(6,"button",0),b.gc("click",(function(){return e.cancel()})),b.Jc(7,"Cancelar"),b.Xb(),b.Yb(8,"button",1),b.gc("click",(function(){return e.submit()})),b.Jc(9,"Solicitar"),b.Xb(),b.Xb(),b.Xb())},directives:[w.x,w.A,w.w,w.y,w.t],styles:["input[_ngcontent-%COMP%]{width:100%}.cancel[_ngcontent-%COMP%]{margin-right:2rem}"]}),et);function it(t,e){if(1&t&&(b.Yb(0,"nb-option",29),b.Jc(1),b.Xb()),2&t){var n=e.$implicit;b.rc("value",n.k),b.Fb(1),b.Kc(n.v)}}function rt(t,e){if(1&t){var n=b.Zb();b.Yb(0,"nb-list-item",30),b.gc("click",(function(){b.Bc(n);var t=e.$implicit;return b.kc().toggleView(t)})),b.Yb(1,"span"),b.Jc(2),b.Xb(),b.Yb(3,"span",31),b.Jc(4),b.Xb(),b.Yb(5,"span"),b.Jc(6),b.Xb(),b.Xb()}if(2&t){var a=e.$implicit,c=b.kc();b.Fb(2),b.Kc(c.obterValorStatusEnum(a.status)),b.Fb(2),b.Kc(c.formatarData(a.dataDesejada)),b.Fb(2),b.Lc("R$",a.valorTotal.toFixed(2),"")}}function ot(t,e){if(1&t){var n=b.Zb();b.Yb(0,"button",32),b.gc("click",(function(){b.Bc(n);var t=b.kc();return t.mudarPagina(t.pageNumber-1)})),b.Jc(1),b.Xb()}if(2&t){var a=b.kc();b.Fb(1),b.Lc(" ",a.pageNumber-1," ")}}function bt(t,e){if(1&t){var n=b.Zb();b.Yb(0,"button",32),b.gc("click",(function(){b.Bc(n);var t=b.kc();return t.mudarPagina(t.pageNumber+1)})),b.Jc(1),b.Xb()}if(2&t){var a=b.kc();b.Fb(1),b.Lc(" ",a.pageNumber+1," ")}}function st(t,e){if(1&t&&(b.Yb(0,"nb-list-item",17),b.Yb(1,"span",33),b.Jc(2),b.Xb(),b.Yb(3,"span"),b.Jc(4),b.Xb(),b.Yb(5,"span"),b.Jc(6),b.Xb(),b.Xb()),2&t){var n=e.$implicit;b.Fb(2),b.Kc(n.produto.nome),b.Fb(2),b.Lc("",n.quantidade," Und."),b.Fb(2),b.Lc("R$ ",n.valor.toFixed(2),"")}}var ut,lt=((ut=function(){function t(e,n,a,c){_classCallCheck(this,t),this.fb=e,this.solicitacaoProdutoService=n,this.dialogService=a,this.toastrService=c,this.faSearch=_.h,this.faPlus=_.g,this.faAngleRight=_.d,this.faAngleLeft=_.c,this.faAngleDoubleLeft=_.a,this.faAngleDoubleRight=_.b,this.status=Object.keys(T.d).map((function(t){return{k:t,v:T.d[t]}})),this.nPerPage=10,this.revealed=!1,this.pageNumber=1,this.faTrash=_.i,this.filtro=this.fb.group({dataCriacao:null,dataDesejada:null,status:null}),this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,e=Object(J.a)(new Date),n=Object(x.a)(new Date);this.filtro.patchValue({status:"ABERTO",dataCriacao:{start:e,end:n},dataDesejada:{start:e,end:n}}),this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,1,this.nPerPage).subscribe((function(e){t.data=e.solicitacoes,t.setLastPageAndCount(e.count)}))}},{key:"toggleView",value:function(t){this.revealed=!this.revealed,this.solicitacaoFlipada=t}},{key:"buscar",value:function(){var t=this;this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,1,this.nPerPage).subscribe((function(e){t.data=e.solicitacoes,t.setLastPageAndCount(e.count)}))}},{key:"formatarData",value:function(t){return Object(N.a)(new Date(t),"dd/MM/yyyy")}},{key:"setLastPageAndCount",value:function(t){this.countSolicitacoes=t,this.nOfPages=Math.ceil(t/this.nPerPage)}},{key:"mudarPagina",value:function(t){var e=this;this.pageNumber=t,this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,this.pageNumber,this.nPerPage).subscribe((function(t){e.data=t.solicitacoes,e.setLastPageAndCount(t.count)}))}},{key:"obterValorStatusEnum",value:function(t){return T.d[t]}},{key:"alterarStatus",value:function(t){var e=this;this.dialogService.open(ct).onClose.subscribe((function(n){n&&e.cancelar(t)}))}},{key:"cancelar",value:function(t){var e=this;this.solicitacaoProdutoService.cancelar(t).subscribe((function(t){e.toastrService.info("Favor, aguarde aprova\xe7\xe3o do respons\xe1vel","Solicita\xe7\xe3o de cancelamento enviada",{duration:6e3}),e.buscar()}))}}]),t}()).\u0275fac=function(t){return new(t||ut)(b.Sb(M.c),b.Sb(D.a),b.Sb(w.N),b.Sb(w.yb))},ut.\u0275cmp=b.Mb({type:ut,selectors:[["ngx-lista-solicitacao-mobile"]],decls:75,vars:27,consts:[[3,"formGroup"],[1,"row","form-group"],[1,"form-group","col-md-4"],["for","Nome","required","",1,"label"],["placeholder","Status","formControlName","status","fullWidth",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","form-group"],[1,"label"],["nbInput","","formControlName","dataCriacao",3,"nbDatepicker"],["rangepicker",""],["nbInput","","formControlName","dataDesejada",3,"nbDatepicker"],["dataDesejada",""],["nbButton","","status","basic",2,"padding","6px","margin-right","8px",3,"click"],[2,"margin-right","5px",3,"icon"],["nbButton","","status","primary","routerLink","/pages/solicitacao-produto/solicitar",2,"padding","6px"],[1,"own-scroll",3,"showToggleButton","flipped"],[1,"item",2,"font-size","small"],["class","item","style","font-size: small;",3,"click",4,"ngFor","ngForOf"],["nbButton","","ghost","","size","small",3,"disabled"],[3,"icon","click"],["nbButton","","ghost","","size","small",3,"disabled","click"],[3,"icon"],["nbButton","","ghost","","size","small",3,"click",4,"ngIf"],["nbButton","","ghost","","size","small","status","primary"],[2,"flex","1","padding","3px"],[2,"flex","2","padding","3px"],["class","item","style","font-size: small;",4,"ngFor","ngForOf"],["ghost","","nbButton","","size","small",3,"disabled","click"],[3,"value"],[1,"item",2,"font-size","small",3,"click"],[2,"padding","5px"],["nbButton","","ghost","","size","small",3,"click"],[2,"flex","2"]],template:function(t,e){if(1&t&&(b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Jc(2," Minhas solicita\xe7\xf5es "),b.Xb(),b.Yb(3,"nb-card-body"),b.Yb(4,"form",0),b.Yb(5,"div",1),b.Yb(6,"div",2),b.Yb(7,"label",3),b.Jc(8,"Status"),b.Xb(),b.Yb(9,"nb-select",4),b.Yb(10,"nb-option",5),b.Jc(11,"Todos"),b.Xb(),b.Hc(12,it,2,2,"nb-option",6),b.Xb(),b.Xb(),b.Yb(13,"div",7),b.Yb(14,"label",8),b.Jc(15,"Data de cria\xe7\xe3o:"),b.Xb(),b.Tb(16,"input",9),b.Tb(17,"nb-rangepicker",null,10),b.Xb(),b.Yb(19,"div",7),b.Yb(20,"label",8),b.Jc(21,"Data desejada:"),b.Xb(),b.Tb(22,"input",11),b.Tb(23,"nb-rangepicker",null,12),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(25,"nb-card-footer"),b.Yb(26,"button",13),b.gc("click",(function(){return e.buscar()})),b.Tb(27,"fa-icon",14),b.Jc(28,"buscar "),b.Xb(),b.Yb(29,"button",15),b.Tb(30,"fa-icon",14),b.Jc(31,"solicita\xe7\xe3o "),b.Xb(),b.Xb(),b.Xb(),b.Yb(32,"nb-flip-card",16),b.Yb(33,"nb-card-front"),b.Yb(34,"nb-card"),b.Yb(35,"nb-card-header",17),b.Yb(36,"span"),b.Jc(37,"Status"),b.Xb(),b.Yb(38,"span"),b.Jc(39,"Dt. Desejada"),b.Xb(),b.Yb(40,"span"),b.Jc(41,"Valor Total"),b.Xb(),b.Xb(),b.Yb(42,"nb-card-body"),b.Yb(43,"nb-list"),b.Hc(44,rt,7,3,"nb-list-item",18),b.Xb(),b.Xb(),b.Yb(45,"nb-card-footer"),b.Yb(46,"button",19),b.Yb(47,"fa-icon",20),b.gc("click",(function(){return e.mudarPagina(1)})),b.Xb(),b.Xb(),b.Yb(48,"button",21),b.gc("click",(function(){return e.mudarPagina(e.pageNumber-2)})),b.Tb(49,"fa-icon",22),b.Xb(),b.Hc(50,ot,2,1,"button",23),b.Yb(51,"button",24),b.Jc(52),b.Xb(),b.Hc(53,bt,2,1,"button",23),b.Yb(54,"button",21),b.gc("click",(function(){return e.mudarPagina(e.pageNumber+2)})),b.Tb(55,"fa-icon",22),b.Xb(),b.Yb(56,"button",21),b.gc("click",(function(){return e.mudarPagina(e.nOfPages)})),b.Tb(57,"fa-icon",22),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(58,"nb-card-back"),b.Yb(59,"nb-card"),b.Yb(60,"nb-card-header",17),b.Yb(61,"span",25),b.Yb(62,"fa-icon",20),b.gc("click",(function(){return e.toggleView()})),b.Xb(),b.Xb(),b.Yb(63,"span",26),b.Jc(64),b.Xb(),b.Yb(65,"span",26),b.Jc(66),b.Xb(),b.Yb(67,"span",26),b.Jc(68),b.Xb(),b.Xb(),b.Yb(69,"nb-card-body"),b.Yb(70,"nb-list"),b.Hc(71,st,7,3,"nb-list-item",27),b.Xb(),b.Xb(),b.Yb(72,"nb-card-footer"),b.Yb(73,"button",28),b.gc("click",(function(){return e.alterarStatus(e.solicitacaoFlipada._id)})),b.Tb(74,"fa-icon",22),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var n=b.yc(18),a=b.yc(24);b.Fb(4),b.rc("formGroup",e.filtro),b.Fb(8),b.rc("ngForOf",e.status),b.Fb(4),b.rc("nbDatepicker",n),b.Fb(6),b.rc("nbDatepicker",a),b.Fb(5),b.rc("icon",e.faSearch),b.Fb(3),b.rc("icon",e.faPlus),b.Fb(2),b.rc("showToggleButton",!1)("flipped",e.revealed),b.Fb(12),b.rc("ngForOf",e.data),b.Fb(2),b.rc("disabled",1===e.pageNumber),b.Fb(1),b.rc("icon",e.faAngleDoubleLeft),b.Fb(1),b.rc("disabled",e.pageNumber<=2),b.Fb(1),b.rc("icon",e.faAngleLeft),b.Fb(1),b.rc("ngIf",e.pageNumber>1),b.Fb(2),b.Lc(" ",e.pageNumber," "),b.Fb(1),b.rc("ngIf",e.pageNumber<e.nOfPages),b.Fb(1),b.rc("disabled",e.pageNumber>=e.nOfPages-2),b.Fb(1),b.rc("icon",e.faAngleRight),b.Fb(1),b.rc("disabled",e.pageNumber===e.nOfPages),b.Fb(1),b.rc("icon",e.faAngleDoubleRight),b.Fb(5),b.rc("icon",e.faAngleLeft),b.Fb(2),b.Kc(e.solicitacaoFlipada&&e.obterValorStatusEnum(e.solicitacaoFlipada.status)),b.Fb(2),b.Kc(e.solicitacaoFlipada&&e.formatarData(e.solicitacaoFlipada.dataDesejada)),b.Fb(2),b.Lc("R$",e.solicitacaoFlipada&&e.solicitacaoFlipada.valorTotal.toFixed(2),""),b.Fb(3),b.rc("ngForOf",e.solicitacaoFlipada&&e.solicitacaoFlipada.produtos),b.Fb(2),b.rc("disabled",e.solicitacaoFlipada&&"ABERTO"!==e.solicitacaoFlipada.status),b.Fb(1),b.rc("icon",e.faTrash)}},directives:[w.x,w.A,w.w,M.z,M.o,M.g,w.mb,M.n,M.f,w.jb,i.m,w.S,M.b,w.J,w.kb,w.y,w.t,H.a,L.d,w.O,w.z,w.bb,i.n,w.v,w.cb],styles:[".item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.item[_ngcontent-%COMP%]:first-child{border-top:none}"]}),ut);function dt(t,e){1&t&&b.Tb(0,"ngx-lista-solicitacao-desktop")}function ft(t,e){1&t&&b.Tb(0,"ngx-lista-solicitacao-mobile")}var gt,mt,ht,pt,vt=((gt=function(){function t(e){_classCallCheck(this,t),this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)").pipe(Object(r.a)((function(t){return t.matches})),Object(o.a)())}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||gt)(b.Sb(P))},gt.\u0275cmp=b.Mb({type:gt,selectors:[["ngx-lista-solicitacao"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["mobileList",""]],template:function(t,e){if(1&t&&(b.Hc(0,dt,1,0,"ngx-lista-solicitacao-desktop",0),b.lc(1,"async"),b.Hc(2,ft,1,0,"ng-template",null,1,b.Ic)),2&t){var n=b.yc(3);b.rc("ngIf",!1===b.mc(1,2,e.isHandset$))("ngIfElse",n)}},directives:[i.n,at,lt],pipes:[i.b],styles:[""]}),gt),kt=n("oG2T"),yt=((pt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Qb({type:pt}),pt.\u0275inj=b.Pb({factory:function(t){return new(t||pt)},imports:[[i.c,w.db,w.B,i.c,w.B,M.u,M.h,w.u,w.T,L.g,w.K,kt.a,H.b,w.nb]]}),pt),Xt=((ht=function t(){_classCallCheck(this,t)}).\u0275mod=b.Qb({type:ht}),ht.\u0275inj=b.Pb({factory:function(t){return new(t||ht)},imports:[[i.c,w.Mb,w.B,M.u,M.h,w.u,w.T,L.g,w.K,H.b,w.nb,kt.a]]}),ht),Ct=((mt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Qb({type:mt}),mt.\u0275inj=b.Pb({factory:function(t){return new(t||mt)},imports:[[i.c,yt,Xt,L.g.forChild([{path:"",component:vt}])]]}),mt)},mrSG:function(t,e,n){"use strict";function a(t,e,n,a){var c,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var o=t.length-1;o>=0;o--)(c=t[o])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r}function c(t,e,n,a){return new(n||(n=Promise))((function(c,i){function r(t){try{b(a.next(t))}catch(e){i(e)}}function o(t){try{b(a.throw(t))}catch(e){i(e)}}function b(t){var e;t.done?c(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}b((a=a.apply(t,e||[])).next())}))}n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}))}}]);