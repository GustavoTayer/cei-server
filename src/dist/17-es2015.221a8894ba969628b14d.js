(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{DeMq:function(t,e,r){"use strict";r.r(e),r.d(e,"ListaEquipeModule",(function(){return h}));var i=r("ofXK"),s=r("tyNb"),o=r("esi0"),c=r("fXoL"),n=r("aceb");const a=function(t){return["/pages/admin/equipe/editar/",t]};function u(t,e){if(1&t&&(c.Yb(0,"nb-list-item",1),c.Yb(1,"span"),c.Jc(2),c.Xb(),c.Yb(3,"span"),c.Jc(4),c.Xb(),c.Yb(5,"span"),c.Jc(6),c.Xb(),c.Yb(7,"span"),c.Yb(8,"button",2),c.Tb(9,"nb-icon",3),c.Xb(),c.Xb(),c.Xb()),2&t){const t=e.$implicit;c.Fb(2),c.Kc(t.nome),c.Fb(2),c.Kc(t.descricao),c.Fb(2),c.Lc("",t.membros.length," membros"),c.Fb(2),c.rc("routerLink",c.uc(4,a,t._id))}}const b=[{path:"",component:(()=>{class t{constructor(t){this.equipeService=t}ngOnInit(){this.equipeService.lista().subscribe(t=>this.equipes=t)}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(o.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["ngx-lista-equipe"]],decls:6,vars:1,consts:[["class","item",4,"ngFor","ngForOf"],[1,"item"],["nbButton","","ghost","","status","info",3,"routerLink"],["icon","edit-outline"]],template:function(t,e){1&t&&(c.Yb(0,"nb-card"),c.Yb(1,"nb-card-header"),c.Jc(2," Lista de equipes "),c.Xb(),c.Yb(3,"nb-card-body"),c.Yb(4,"nb-list"),c.Hc(5,u,10,6,"nb-list-item",0),c.Xb(),c.Xb(),c.Xb()),2&t&&(c.Fb(5),c.rc("ngForOf",e.equipes))},directives:[n.x,n.A,n.w,n.bb,i.m,n.cb,n.t,s.d,n.P],styles:[".item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.item[_ngcontent-%COMP%]:first-child{border-top:none}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[s.g.forChild(b)],s.g]}),t})(),h=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[i.c,p,n.B,n.db,n.R,n.u]]}),t})()},esi0:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var i=r("MAky"),s=r("lJxs"),o=r("JIr8"),c=r("LRne"),n=r("fXoL"),a=r("tk/3"),u=r("aceb"),b=r("tyNb");let p=(()=>{class t{constructor(t,e,r){this.http=t,this.toastrService=e,this.router=r,this.url=`${i.c}/equipe`}lista(){return this.http.get(`${this.url}/lista`)}criar(t){return this.http.post(`${this.url}/criar`,t).pipe(Object(s.a)(t=>{this.toastrService.success("Agora voc\xea pode definir membros e criar fun\xe7\xf5es","Equipe criada com sucesso"),this.router.navigate([`/pages/admin/equipe/editar/${t._id}`])}),Object(o.a)(t=>(this.toastrService.danger(t,"Erro!"),Object(c.a)(!1))))}adicionarMembro(t,e){return this.http.post(`${this.url}/adicionarMembro`,{id:t,usuarioId:e})}buscarPorId(t){return this.http.post(`${this.url}/buscarPorId`,{id:t})}buscarMinhaEquipe(){return this.http.get(`${this.url}/buscarMinhaEquipe`)}select(){return this.http.get(`${this.url}/select`)}usuariosSemEquipeSelect(t){return this.http.post(`${this.url}/usuariosSemEquipeSelect`,{q:t})}criarCargo(t){return this.http.post(`${this.url}/criarCargo`,t).pipe(Object(s.a)(t=>(this.toastrService.success("","Cargo criado com sucesso"),t)),Object(o.a)(t=>(this.toastrService.danger(t,"Erro!"),Object(c.a)({nome:""}))))}removerMembro(t,e){return this.http.post(`${this.url}/removerMembro`,{id:t,usuarioId:e}).pipe(Object(s.a)(t=>(this.toastrService.success("","Membro removido com sucesso"),t)),Object(o.a)(t=>(this.toastrService.danger(t,"Erro!"),Object(c.a)({nome:""}))))}removerCargo(t,e){return this.http.post(`${this.url}/removerCargo`,{id:t,cargoId:e}).pipe(Object(s.a)(t=>(this.toastrService.success("","Cargo removido com sucesso"),t)),Object(o.a)(t=>(this.toastrService.danger(t,"Erro!"),Object(c.a)(!1))))}adicionarCargoUsuario(t,e,r){return this.http.post(`${this.url}/adicionarCargoUsuario`,{id:t,usuarioId:e,cargoId:r}).pipe(Object(s.a)(t=>(this.toastrService.success("","Membro removido com sucesso"),t)),Object(o.a)(t=>(this.toastrService.danger(t,"Erro!"),Object(c.a)(!1))))}}return t.\u0275fac=function(e){return new(e||t)(n.cc(a.b),n.cc(u.yb),n.cc(b.c))},t.\u0275prov=n.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);