(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{dLU1:function(t,n,o){"use strict";o.d(n,"a",(function(){return c}));var e=o("/h9T"),r=o("/Tr7"),i=o("jIYg");function a(t){Object(i.a)(1,arguments);var n=Object(r.a)(t),o=n.getFullYear(),e=n.getMonth(),a=new Date(0);return a.setFullYear(o,e+1,0),a.setHours(0,0,0,0),a.getDate()}function c(t,n){Object(i.a)(2,arguments);var o=Object(r.a)(t),c=Object(e.a)(n),s=o.getMonth()+c,b=new Date(0);b.setFullYear(o.getFullYear(),s,1),b.setHours(0,0,0,0);var u=a(b);return o.setMonth(s,Math.min(u,o.getDate())),o}},vI6V:function(t,n,o){"use strict";o.d(n,"d",(function(){return e})),o.d(n,"a",(function(){return r})),o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return a}));var e=function(t){return t.ABERTO="Aberto",t.PRODUZINDO="Produzindo",t.ENTREGUE="Entregue",t.PAGO="Pago",t.CANCELADO="Cancelado",t.SLC_CANCELAMENTO="Slc. Canc.",t}({}),r=function(t){return t.PROPEDEUTICO="Proped\xeautico",t.FILOSOFIA="Filosofia",t.TEOLOGIA="Teologia",t.TIROCINIO="Tiroc\xednio",t}({}),i=function(t){return t.SEMINARISTA="Seminarista",t.FORMADOR="Formador",t.REITOR="Reitor",t.CONSELHO_GESTOR="Conselho Gestor",t.OUTROS="Outros",t}({}),a=function(t){return t.EM_ANALISE="Em an\xe1lise",t.CORRECAO="Solicitado corre\xe7\xe3o",t.APROVADO="Aprovado",t.DEPOSITADO="Depositado",t}({})},z3YT:function(t,n,o){"use strict";o.r(n),o.d(n,"ListagemModule",(function(){return v}));var e=o("ofXK"),r=o("tyNb"),i=o("zeoc"),a=o("sWYD"),c=o("vI6V"),s=o("lKi6"),b=o("3+or"),u=o("fXoL"),l=o("aceb");function d(t,n){1&t&&(u.Yb(0,"nb-card"),u.Yb(1,"nb-card-header"),u.Jc(2,"Voc\xea ainda n\xe3o enviou comprovante esse ano"),u.Xb(),u.Xb())}const p=function(t){return["/pages/partilha-solidaria/editar/",t]};function f(t,n){if(1&t&&(u.Yb(0,"button",16),u.Tb(1,"nb-icon",17),u.Xb()),2&t){const t=u.kc().$implicit;u.rc("routerLink",u.uc(1,p,t._id))}}function g(t,n){if(1&t){const t=u.Zb();u.Yb(0,"nb-card",6),u.Yb(1,"nb-card-header"),u.Yb(2,"span",7),u.Jc(3),u.Xb(),u.Yb(4,"span",7),u.Jc(5," - "),u.Xb(),u.Yb(6,"span"),u.Jc(7),u.Xb(),u.Xb(),u.Yb(8,"nb-card-body"),u.Yb(9,"div",8),u.Yb(10,"div",9),u.Yb(11,"label",10),u.Jc(12,"Data prevista de deposito:"),u.Xb(),u.Yb(13,"div",11),u.Yb(14,"b"),u.Jc(15),u.Xb(),u.Xb(),u.Xb(),u.Yb(16,"div",9),u.Yb(17,"label",12),u.Jc(18,"Data deposito:"),u.Xb(),u.Yb(19,"div",11),u.Yb(20,"b"),u.Jc(21),u.Xb(),u.Xb(),u.Xb(),u.Yb(22,"div",9),u.Yb(23,"label",12),u.Jc(24,"Valor comprovante:"),u.Xb(),u.Yb(25,"div",11),u.Yb(26,"b"),u.Jc(27),u.lc(28,"currency"),u.Xb(),u.Xb(),u.Xb(),u.Yb(29,"div",9),u.Yb(30,"label",12),u.Jc(31,"Valor depositado: "),u.Xb(),u.Yb(32,"div",11),u.Yb(33,"b"),u.Jc(34),u.lc(35,"currency"),u.Xb(),u.Xb(),u.Xb(),u.Xb(),u.Xb(),u.Yb(36,"nb-card-footer"),u.Yb(37,"button",13),u.gc("click",(function(){u.Bc(t);const o=n.$implicit;return u.kc(2).downloadComprovante(o)})),u.Tb(38,"nb-icon",14),u.Xb(),u.Hc(39,f,2,3,"button",15),u.Xb(),u.Xb()}if(2&t){const t=n.$implicit,o=u.kc(2);u.rc("accent",o.obterStatusCard(t.status)),u.Fb(3),u.Lc(" ",o.mes(t.mes)," "),u.Fb(4),u.Lc(" ",o.obterStatus(t.status)," "),u.Fb(8),u.Kc(o.formataData(t.dataPrevistaRecebimento)),u.Fb(6),u.Kc(t.dataDeposito?o.formataData(t.dataDeposito):"-"),u.Fb(6),u.Kc(u.nc(28,9,t.valorComprovante,"BRL")),u.Fb(7),u.Kc(t.valorDepositado?u.nc(35,12,t.valorDepositado,"BRL"):"-"),u.Fb(3),u.rc("nbSpinner",o.loadingDownload[t._id]),u.Fb(2),u.rc("ngIf",o.correcao(t.status))}}function m(t,n){if(1&t&&u.Hc(0,g,40,15,"nb-card",5),2&t){const t=u.kc();u.rc("ngForOf",t.comprovantes)}}const O=[{path:"",component:(()=>{class t extends b.a{constructor(t){super(),this.partilhaService=t,this.loadingDownload={},this.loading=!1}ngOnInit(){this.loading=!0,this.subs.sink=this.partilhaService.lista().subscribe(t=>{this.comprovantes=t||[],this.comprovantes.forEach(t=>{this.loadingDownload[t._id]=!1})},t=>t,()=>this.loading=!1)}buscar(){this.loading=!0,this.subs.sink=this.partilhaService.lista().subscribe(t=>this.comprovantes=t||[],t=>t,()=>this.loading=!1)}formataData(t){return Object(a.a)(new Date(t),"dd/MM/yyyy")}obterStatus(t){return c.c[t]}mes(t){return Object(s.a)(t).mes}obterStatusCard(t){switch(t){case"APROVADO":case"DEPOSITADO":return"success";case"CORRECAO":return"danger";case"EM_ANALISE":return"warning"}}teste(){this.partilhaService.teste().subscribe(t=>console.log(t))}correcao(t){return c.c[t]===c.c.CORRECAO||c.c[t]===c.c.EM_ANALISE}downloadComprovante(t){this.loadingDownload[t._id]=!0,this.partilhaService.obterArquivoComprovante(t).subscribe(t=>t,t=>t,()=>this.loadingDownload[t._id]=!1)}}return t.\u0275fac=function(n){return new(n||t)(u.Sb(i.a))},t.\u0275cmp=u.Mb({type:t,selectors:[["ngx-listagem"]],features:[u.Cb],decls:8,vars:3,consts:[["nbSpinnerStatus","primary",3,"nbSpinner"],["nbButton","","status","primary","routerLink","/pages/partilha-solidaria/editar/novo","nbTooltip","Enviar comprovante","nbTooltipStatus","success",2,"margin-left","10px"],["icon","plus-outline"],[4,"ngIf","ngIfElse"],["list",""],[3,"accent",4,"ngFor","ngForOf"],[3,"accent"],[2,"margin-right","5px"],[1,"form-group","row"],[1,"form-group","col-md-3","col-6"],[1,"label",2,"margin-right","5px"],[2,"width","100%"],[1,"label"],["nbButton","","status","info","hero","","nbTooltip","Ver documento","nbTooltipStatus","info","nbSpinnerStatus","success",2,"margin-right","5px",3,"nbSpinner","click"],["icon","eye-outline"],["nbButton","","status","danger","hero","","nbTooltip","Corrigir comprovante","nbTooltipStatus","primary",3,"routerLink",4,"ngIf"],["nbButton","","status","danger","hero","","nbTooltip","Corrigir comprovante","nbTooltipStatus","primary",3,"routerLink"],["icon","edit-2-outline"]],template:function(t,n){if(1&t&&(u.Yb(0,"nb-card",0),u.Yb(1,"nb-card-header"),u.Jc(2,"Partilha solid\xe1ria "),u.Yb(3,"button",1),u.Tb(4,"nb-icon",2),u.Xb(),u.Xb(),u.Xb(),u.Hc(5,d,3,0,"nb-card",3),u.Hc(6,m,1,1,"ng-template",null,4,u.Ic)),2&t){const t=u.yc(7);u.rc("nbSpinner",n.loading),u.Fb(5),u.rc("ngIf",!n.comprovantes||!n.comprovantes.length)("ngIfElse",t)}},directives:[l.x,l.ub,l.A,l.t,r.d,l.Db,l.P,e.n,e.m,l.w,l.y],pipes:[e.d],styles:[".item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.item[_ngcontent-%COMP%]:first-child{border-top:none}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=u.Qb({type:t}),t.\u0275inj=u.Pb({factory:function(n){return new(n||t)},imports:[[r.g.forChild(O)],r.g]}),t})(),v=(()=>{class t{}return t.\u0275mod=u.Qb({type:t}),t.\u0275inj=u.Pb({factory:function(n){return new(n||t)},imports:[[e.c,h,l.db,l.B,l.u,l.vb,l.R,l.Eb]]}),t})()}}]);